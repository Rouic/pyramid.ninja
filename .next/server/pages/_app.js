/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/_app";
exports.ids = ["pages/_app"];
exports.modules = {

/***/ "(pages-dir-node)/./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/firebase */ \"(pages-dir-node)/./src/lib/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_auth__WEBPACK_IMPORTED_MODULE_2__, _lib_firebase__WEBPACK_IMPORTED_MODULE_3__]);\n([firebase_auth__WEBPACK_IMPORTED_MODULE_2__, _lib_firebase__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/contexts/AuthContext.tsx\n\n\n\n\n// Create the Auth Context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Auth Provider Component\nconst AuthProvider = ({ children })=>{\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userUid, setUserUid] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Listen for auth state changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            const unsubscribe = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChanged)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.auth, {\n                \"AuthProvider.useEffect.unsubscribe\": (user)=>{\n                    setUser(user);\n                    setUserUid(user ? user.uid : null);\n                    setLoading(false);\n                }\n            }[\"AuthProvider.useEffect.unsubscribe\"]);\n            // Cleanup subscription\n            return ({\n                \"AuthProvider.useEffect\": ()=>unsubscribe()\n            })[\"AuthProvider.useEffect\"];\n        }\n    }[\"AuthProvider.useEffect\"], []);\n    // Sign in anonymously\n    const signInAnonymously = async ()=>{\n        try {\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signInAnonymously)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.auth);\n        } catch (error) {\n            console.error(\"Error signing in anonymously:\", error);\n        }\n    };\n    // Sign out\n    const signOut = async ()=>{\n        try {\n            await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.signOut)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.auth);\n        } catch (error) {\n            console.error(\"Error signing out:\", error);\n        }\n    };\n    // Auto sign in anonymously if not signed in\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"AuthProvider.useEffect\": ()=>{\n            if (!loading && !user) {\n                signInAnonymously();\n            }\n        }\n    }[\"AuthProvider.useEffect\"], [\n        loading,\n        user\n    ]);\n    // Context value\n    const value = {\n        user,\n        userUid,\n        loading,\n        signInAnonymously,\n        signOut\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: !loading && children\n    }, void 0, false, {\n        fileName: \"/Users/alex/Developer/pyramid.ninja/src/contexts/AuthContext.tsx\",\n        lineNumber: 70,\n        columnNumber: 5\n    }, undefined);\n};\n// Custom hook to use the auth context\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AuthContext);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQStCOztBQUMrQztBQU12RDtBQUNnQjtBQUd2QywwQkFBMEI7QUFDMUIsTUFBTVcsNEJBQWNWLG9EQUFhQSxDQUE4Qlc7QUFFL0QsMEJBQTBCO0FBQ25CLE1BQU1DLGVBQXdELENBQUMsRUFDcEVDLFFBQVEsRUFDVDtJQUNDLE1BQU0sQ0FBQ0MsTUFBTUMsUUFBUSxHQUFHWiwrQ0FBUUEsQ0FBYztJQUM5QyxNQUFNLENBQUNhLFNBQVNDLFdBQVcsR0FBR2QsK0NBQVFBLENBQWdCO0lBQ3RELE1BQU0sQ0FBQ2UsU0FBU0MsV0FBVyxHQUFHaEIsK0NBQVFBLENBQUM7SUFFdkMsZ0NBQWdDO0lBQ2hDRCxnREFBU0E7a0NBQUM7WUFDUixNQUFNa0IsY0FBY1osaUVBQWtCQSxDQUFDQywrQ0FBSUE7c0RBQUUsQ0FBQ0s7b0JBQzVDQyxRQUFRRDtvQkFDUkcsV0FBV0gsT0FBT0EsS0FBS08sR0FBRyxHQUFHO29CQUM3QkYsV0FBVztnQkFDYjs7WUFFQSx1QkFBdUI7WUFDdkI7MENBQU8sSUFBTUM7O1FBQ2Y7aUNBQUcsRUFBRTtJQUVMLHNCQUFzQjtJQUN0QixNQUFNaEIsb0JBQW9CO1FBQ3hCLElBQUk7WUFDRixNQUFNQyxnRUFBeUJBLENBQUNJLCtDQUFJQTtRQUN0QyxFQUFFLE9BQU9hLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGlDQUFpQ0E7UUFDakQ7SUFDRjtJQUVBLFdBQVc7SUFDWCxNQUFNaEIsVUFBVTtRQUNkLElBQUk7WUFDRixNQUFNQyxzREFBZUEsQ0FBQ0UsK0NBQUlBO1FBQzVCLEVBQUUsT0FBT2EsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsc0JBQXNCQTtRQUN0QztJQUNGO0lBRUEsNENBQTRDO0lBQzVDcEIsZ0RBQVNBO2tDQUFDO1lBQ1IsSUFBSSxDQUFDZ0IsV0FBVyxDQUFDSixNQUFNO2dCQUNyQlY7WUFDRjtRQUNGO2lDQUFHO1FBQUNjO1FBQVNKO0tBQUs7SUFFbEIsZ0JBQWdCO0lBQ2hCLE1BQU1VLFFBQXlCO1FBQzdCVjtRQUNBRTtRQUNBRTtRQUNBZDtRQUNBRTtJQUNGO0lBRUEscUJBQ0UsOERBQUNJLFlBQVllLFFBQVE7UUFBQ0QsT0FBT0E7a0JBQzFCLENBQUNOLFdBQVdMOzs7Ozs7QUFHbkIsRUFBRTtBQUVGLHNDQUFzQztBQUMvQixNQUFNYSxVQUFVO0lBQ3JCLE1BQU1DLFVBQVUxQixpREFBVUEsQ0FBQ1M7SUFDM0IsSUFBSWlCLFlBQVloQixXQUFXO1FBQ3pCLE1BQU0sSUFBSWlCLE1BQU07SUFDbEI7SUFDQSxPQUFPRDtBQUNULEVBQUU7QUFFRixpRUFBZWpCLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGV4L0RldmVsb3Blci9weXJhbWlkLm5pbmphL3NyYy9jb250ZXh0cy9BdXRoQ29udGV4dC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeFxuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIHNpZ25JbkFub255bW91c2x5IGFzIGZpcmViYXNlU2lnbkluQW5vbnltb3VzbHksXG4gIHNpZ25PdXQgYXMgZmlyZWJhc2VTaWduT3V0LFxuICBvbkF1dGhTdGF0ZUNoYW5nZWQsXG4gIFVzZXIsXG59IGZyb20gXCJmaXJlYmFzZS9hdXRoXCI7XG5pbXBvcnQgeyBhdXRoIH0gZnJvbSBcIi4uL2xpYi9maXJlYmFzZVwiO1xuaW1wb3J0IHsgQXV0aENvbnRleHRUeXBlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbi8vIENyZWF0ZSB0aGUgQXV0aCBDb250ZXh0XG5jb25zdCBBdXRoQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8QXV0aENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG4vLyBBdXRoIFByb3ZpZGVyIENvbXBvbmVudFxuZXhwb3J0IGNvbnN0IEF1dGhQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlIH0+ID0gKHtcbiAgY2hpbGRyZW4sXG59KSA9PiB7XG4gIGNvbnN0IFt1c2VyLCBzZXRVc2VyXSA9IHVzZVN0YXRlPFVzZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3VzZXJVaWQsIHNldFVzZXJVaWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIC8vIExpc3RlbiBmb3IgYXV0aCBzdGF0ZSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZWQoYXV0aCwgKHVzZXIpID0+IHtcbiAgICAgIHNldFVzZXIodXNlcik7XG4gICAgICBzZXRVc2VyVWlkKHVzZXIgPyB1c2VyLnVpZCA6IG51bGwpO1xuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG5cbiAgICAvLyBDbGVhbnVwIHN1YnNjcmlwdGlvblxuICAgIHJldHVybiAoKSA9PiB1bnN1YnNjcmliZSgpO1xuICB9LCBbXSk7XG5cbiAgLy8gU2lnbiBpbiBhbm9ueW1vdXNseVxuICBjb25zdCBzaWduSW5Bbm9ueW1vdXNseSA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmlyZWJhc2VTaWduSW5Bbm9ueW1vdXNseShhdXRoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNpZ25pbmcgaW4gYW5vbnltb3VzbHk6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gU2lnbiBvdXRcbiAgY29uc3Qgc2lnbk91dCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZmlyZWJhc2VTaWduT3V0KGF1dGgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igc2lnbmluZyBvdXQ6XCIsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQXV0byBzaWduIGluIGFub255bW91c2x5IGlmIG5vdCBzaWduZWQgaW5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWxvYWRpbmcgJiYgIXVzZXIpIHtcbiAgICAgIHNpZ25JbkFub255bW91c2x5KCk7XG4gICAgfVxuICB9LCBbbG9hZGluZywgdXNlcl0pO1xuXG4gIC8vIENvbnRleHQgdmFsdWVcbiAgY29uc3QgdmFsdWU6IEF1dGhDb250ZXh0VHlwZSA9IHtcbiAgICB1c2VyLFxuICAgIHVzZXJVaWQsXG4gICAgbG9hZGluZyxcbiAgICBzaWduSW5Bbm9ueW1vdXNseSxcbiAgICBzaWduT3V0LFxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPEF1dGhDb250ZXh0LlByb3ZpZGVyIHZhbHVlPXt2YWx1ZX0+XG4gICAgICB7IWxvYWRpbmcgJiYgY2hpbGRyZW59XG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn07XG5cbi8vIEN1c3RvbSBob29rIHRvIHVzZSB0aGUgYXV0aCBjb250ZXh0XG5leHBvcnQgY29uc3QgdXNlQXV0aCA9ICgpID0+IHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGhDb250ZXh0O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInNpZ25JbkFub255bW91c2x5IiwiZmlyZWJhc2VTaWduSW5Bbm9ueW1vdXNseSIsInNpZ25PdXQiLCJmaXJlYmFzZVNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJhdXRoIiwiQXV0aENvbnRleHQiLCJ1bmRlZmluZWQiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJzZXRVc2VyIiwidXNlclVpZCIsInNldFVzZXJVaWQiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInVuc3Vic2NyaWJlIiwidWlkIiwiZXJyb3IiLCJjb25zb2xlIiwidmFsdWUiLCJQcm92aWRlciIsInVzZUF1dGgiLCJjb250ZXh0IiwiRXJyb3IiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/contexts/GameContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/GameContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GameProvider: () => (/* binding */ GameProvider),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   useGame: () => (/* binding */ useGame)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/firebase */ \"(pages-dir-node)/./src/lib/firebase.ts\");\n/* harmony import */ var _AuthContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AuthContext */ \"(pages-dir-node)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _lib_deckUtils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/deckUtils */ \"(pages-dir-node)/./src/lib/deckUtils.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, _lib_firebase__WEBPACK_IMPORTED_MODULE_3__, _AuthContext__WEBPACK_IMPORTED_MODULE_4__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, _lib_firebase__WEBPACK_IMPORTED_MODULE_3__, _AuthContext__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/contexts/GameContext.tsx\n\n\n\n\n\n\n// Create Game Context\nconst GameContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Game Provider Component\nconst GameProvider = ({ children })=>{\n    const { userUid } = (0,_AuthContext__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const [gameId, setGameId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [gameData, setGameData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [players, setPlayers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Create a new game as host\n    const createGame = async ()=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // Generate a new game code (4 random letters)\n            const roomCode = (0,_lib_deckUtils__WEBPACK_IMPORTED_MODULE_5__.generateGameCode)();\n            console.log(`Creating new game with ID: ${roomCode}`);\n            // Create shuffled deck and pyramid cards\n            const deck = (0,_lib_deckUtils__WEBPACK_IMPORTED_MODULE_5__.shuffleDeck)(roomCode);\n            const pyramidCards = deck.splice(0, 15).map((cardId)=>({\n                    id: cardId,\n                    shown: false\n                }));\n            // Create a timestamp to help debug concurrency issues\n            const timestamp = new Date().toISOString();\n            // Create game document in Firestore with a unique debug field\n            const gameData = {\n                \"__pyramid.meta\": {\n                    started: false,\n                    total_drinks: 0,\n                    created_at: new Date(),\n                    fancy_shown: false,\n                    debug_id: `${timestamp}_${Math.random().toString(36).substring(2, 7)}`\n                },\n                \"__pyramid.cards\": pyramidCards,\n                \"__pyramid.deck\": deck\n            };\n            // Create the document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", roomCode), gameData);\n            setGameId(roomCode);\n            // Subscribe to game updates\n            subscribeToGameUpdates(roomCode);\n            setLoading(false);\n            return roomCode;\n        } catch (error) {\n            console.error(\"Error creating game:\", error);\n            setError(\"Failed to create game. Please try again.\");\n            setLoading(false);\n            throw error;\n        }\n    };\n    // Join an existing game\n    const joinGame = async (gameId, name)=>{\n        try {\n            setLoading(true);\n            setError(null);\n            // Check if game exists\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameId.toUpperCase());\n            const gameSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(gameRef);\n            if (!gameSnap.exists()) {\n                throw new Error(\"Game not found\");\n            }\n            if (!userUid) {\n                throw new Error(\"Not authenticated\");\n            }\n            // Join the game by adding player to game document\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(gameRef, {\n                [userUid]: {\n                    admin: true,\n                    uid: userUid,\n                    name: name.toUpperCase(),\n                    drinks: 0,\n                    initial_deal: false\n                }\n            });\n            setGameId(gameId.toUpperCase());\n            // Subscribe to game updates\n            subscribeToGameUpdates(gameId.toUpperCase());\n            // Save user name in local storage\n            localStorage.setItem(\"playerName\", name.toUpperCase());\n            setLoading(false);\n        } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : \"Failed to join game\";\n            console.error(\"Error joining game:\", error);\n            setError(errorMessage);\n            setLoading(false);\n            throw error;\n        }\n    };\n    // Start the game (host only)\n    const startGame = async (gameId)=>{\n        try {\n            const gameIdUpper = gameId.toUpperCase();\n            console.log(`Starting game with ID: ${gameIdUpper}`);\n            // Get a fresh reference to the game\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameIdUpper);\n            // Get current document data directly from server\n            const gameSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocFromServer)(gameRef);\n            if (!gameSnap.exists()) {\n                throw new Error(\"Game not found\");\n            }\n            // Get the complete document data\n            const gameData = gameSnap.data();\n            console.log(\"Current full game data:\", gameData);\n            // Create an entirely new meta object\n            const newMeta = {\n                ...gameData[\"__pyramid.meta\"],\n                started: true,\n                last_updated: new Date(),\n                debug_id: `started_${new Date().toISOString()}`\n            };\n            // Create a completely new document with all the same data but updated meta\n            const newGameData = {\n                ...gameData,\n                \"__pyramid.meta\": newMeta\n            };\n            console.log(\"New game data to save:\", newGameData);\n            // Complete document replacement instead of field update\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(gameRef, newGameData);\n            // Force a server read right after update\n            setTimeout(async ()=>{\n                const verifySnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocFromServer)(gameRef);\n                const verifyData = verifySnap.data();\n                console.log(\"VERIFICATION - Game data 1 second after update:\", verifyData);\n                console.log(\"VERIFICATION - Started value:\", verifyData?.[\"__pyramid.meta\"]?.started);\n            }, 1000);\n        } catch (error) {\n            console.error(\"Error starting game:\", error);\n            throw error;\n        }\n    };\n    // Select a card from the pyramid (host only)\n    const selectCard = async (gameId, cardIndex)=>{\n        try {\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameId.toUpperCase());\n            const gameSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(gameRef);\n            const gameData = gameSnap.data();\n            if (!gameData) return;\n            const roundNumber = Object.keys(gameData[\"__pyramid.rounds\"] || {}).length + 1;\n            const roundRow = Math.ceil((15 - cardIndex) / 5); // Calculate row based on card position\n            const cardId = gameData[\"__pyramid.cards\"][cardIndex].id;\n            // Update shown status for the selected card\n            const updatedCards = [\n                ...gameData[\"__pyramid.cards\"]\n            ];\n            updatedCards[cardIndex].shown = true;\n            // Create a new round\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(gameRef, {\n                \"__pyramid.cards\": updatedCards,\n                \"__pyramid.currentRound\": {\n                    round_number: roundNumber,\n                    round_row: roundRow,\n                    round_card: cardId\n                },\n                [`__pyramid.rounds.${roundNumber}`]: {\n                    round_row: roundRow,\n                    round_card: cardId,\n                    round_transactions: []\n                }\n            });\n        } catch (error) {\n            console.error(\"Error selecting card:\", error);\n            throw error;\n        }\n    };\n    // Call another player to drink\n    const callPlayer = async (gameId, fromUid, toUid, roundNumber)=>{\n        try {\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameId.toUpperCase());\n            const gameSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(gameRef);\n            const gameData = gameSnap.data();\n            if (!gameData || !gameData[\"__pyramid.rounds\"] || !gameData[\"__pyramid.rounds\"][roundNumber]) {\n                throw new Error(\"Round not found\");\n            }\n            const transaction = {\n                t_from: fromUid,\n                t_to: toUid,\n                status: \"waiting\"\n            };\n            const currentRoundTransactions = [\n                ...gameData[\"__pyramid.rounds\"][roundNumber].round_transactions || [],\n                transaction\n            ];\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(gameRef, {\n                [`__pyramid.rounds.${roundNumber}.round_transactions`]: currentRoundTransactions\n            });\n        } catch (error) {\n            console.error(\"Error calling player:\", error);\n            throw error;\n        }\n    };\n    // Respond to a call (accept or call bullshit)\n    const respondToCall = async (gameId, fromUid, toUid, roundNumber, accept)=>{\n        try {\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameId.toUpperCase());\n            const gameSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(gameRef);\n            const gameData = gameSnap.data();\n            if (!gameData || !gameData[\"__pyramid.rounds\"] || !gameData[\"__pyramid.rounds\"][roundNumber]) {\n                throw new Error(\"Round not found\");\n            }\n            const transactions = gameData[\"__pyramid.rounds\"][roundNumber].round_transactions;\n            const transactionIndex = transactions.findIndex((t)=>t.t_from === fromUid && t.t_to === toUid && t.status === \"waiting\");\n            if (transactionIndex === -1) {\n                throw new Error(\"Transaction not found\");\n            }\n            const updatedTransactions = [\n                ...transactions\n            ];\n            updatedTransactions[transactionIndex].status = accept ? \"accepted\" : \"bullshit\";\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(gameRef, {\n                [`__pyramid.rounds.${roundNumber}.round_transactions`]: updatedTransactions\n            });\n        } catch (error) {\n            console.error(\"Error responding to call:\", error);\n            throw error;\n        }\n    };\n    // Show a card for bullshit check\n    const showBullshitCard = async (gameId, playerUid, cardIndex, roundNumber, correct)=>{\n        try {\n            const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameId.toUpperCase());\n            const gameSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDoc)(gameRef);\n            const gameData = gameSnap.data();\n            if (!gameData) return;\n            const player = gameData[playerUid];\n            if (!player || !player.cards) return;\n            // Find transaction\n            const transactions = gameData[\"__pyramid.rounds\"][roundNumber].round_transactions;\n            const transactionIndex = transactions.findIndex((t)=>t.t_from === playerUid && t.status === \"bullshit\");\n            if (transactionIndex === -1) return;\n            // Update transaction status\n            const updatedTransactions = [\n                ...transactions\n            ];\n            updatedTransactions[transactionIndex].status = correct ? \"bullshit_correct\" : \"bullshit_wrong\";\n            // Remove card and get a new one\n            const newDeck = [\n                ...gameData[\"__pyramid.deck\"]\n            ];\n            const newCard = newDeck.shift();\n            const updatedCards = player.cards.filter((_, i)=>i !== cardIndex);\n            if (newCard !== undefined) {\n                updatedCards.push({\n                    i: newCard,\n                    seen: false\n                });\n            }\n            // Update game state\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)(gameRef, {\n                [`__pyramid.rounds.${roundNumber}.round_transactions`]: updatedTransactions,\n                [`${playerUid}.cards`]: updatedCards,\n                \"__pyramid.deck\": newDeck\n            });\n        } catch (error) {\n            console.error(\"Error showing bullshit card:\", error);\n            throw error;\n        }\n    };\n    // Subscribe to game updates\n    const subscribeToGameUpdates = (gameId)=>{\n        // Make sure we use toUpperCase to maintain consistency\n        const gameIdUpper = gameId.toUpperCase();\n        console.log(`Subscribing to game updates for: ${gameIdUpper}`);\n        // Use getDocFromServer to ensure fresh data\n        const gameRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"games\", gameIdUpper);\n        // Get fresh data first\n        (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocFromServer)(gameRef).then((snapshot)=>{\n            console.log(\"Initial fresh server data:\", snapshot.data());\n        }).catch((err)=>console.error(\"Error getting fresh data:\", err));\n        // Then set up real-time listener\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(gameRef, {\n            includeMetadataChanges: true\n        }, (snapshot)=>{\n            const source = snapshot.metadata.hasPendingWrites ? \"Local\" : snapshot.metadata.fromCache ? \"Cache\" : \"Server\";\n            console.log(`Data came from ${source}:`, snapshot.data());\n            const data = snapshot.data();\n            if (data) {\n                // Force data refresh when needed\n                if (source === \"Cache\") {\n                    console.log(\"Got cached data, forcing refresh from server\");\n                    (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocFromServer)(gameRef).catch((err)=>console.error(\"Refresh error:\", err));\n                }\n                // Log the specific meta field we care about\n                console.log(\"Meta data:\", data[\"__pyramid.meta\"]);\n                console.log(\"Started value from Firestore:\", data[\"__pyramid.meta\"]?.started);\n                setGameData(data);\n                // Extract players from game data\n                const playerEntries = Object.entries(data).filter(([key, value])=>// Look specifically for objects with player properties\n                    typeof value === \"object\" && value !== null && \"name\" in value // This matches the legacy implementation's filter\n                );\n                const playersList = playerEntries.map(([uid, player])=>({\n                        uid,\n                        ...player\n                    }));\n                setPlayers(playersList);\n            }\n        }, (error)=>{\n            console.error(\"Error getting game updates:\", error);\n            setError(\"Failed to get game updates. Please try refreshing the page.\");\n        });\n    };\n    // Context value\n    const value = {\n        gameId,\n        gameData,\n        players,\n        loading,\n        error,\n        joinGame,\n        createGame,\n        startGame,\n        selectCard,\n        callPlayer,\n        respondToCall,\n        showBullshitCard\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(GameContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/alex/Developer/pyramid.ninja/src/contexts/GameContext.tsx\",\n        lineNumber: 466,\n        columnNumber: 10\n    }, undefined);\n};\n// Custom hook to use the game context\nconst useGame = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(GameContext);\n    if (context === undefined) {\n        throw new Error(\"useGame must be used within a GameProvider\");\n    }\n    return context;\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameContext);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9jb250ZXh0cy9HYW1lQ29udGV4dC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQkFBK0I7O0FBQ29DO0FBU3ZDO0FBRVM7QUFDRztBQUN5QjtBQVFqRSxzQkFBc0I7QUFDdEIsTUFBTWMsNEJBQWNiLG9EQUFhQSxDQUE4QmM7QUFFL0QsMEJBQTBCO0FBQ25CLE1BQU1DLGVBQXdELENBQUMsRUFDcEVDLFFBQVEsRUFDVDtJQUNDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdQLHFEQUFPQTtJQUMzQixNQUFNLENBQUNRLFFBQVFDLFVBQVUsR0FBR2pCLCtDQUFRQSxDQUFnQjtJQUNwRCxNQUFNLENBQUNrQixVQUFVQyxZQUFZLEdBQUduQiwrQ0FBUUEsQ0FBa0I7SUFDMUQsTUFBTSxDQUFDb0IsU0FBU0MsV0FBVyxHQUFHckIsK0NBQVFBLENBQVcsRUFBRTtJQUNuRCxNQUFNLENBQUNzQixTQUFTQyxXQUFXLEdBQUd2QiwrQ0FBUUEsQ0FBQztJQUN2QyxNQUFNLENBQUN3QixPQUFPQyxTQUFTLEdBQUd6QiwrQ0FBUUEsQ0FBZ0I7SUFFbEQsNEJBQTRCO0lBQzVCLE1BQU0wQixhQUFhO1FBQ2pCLElBQUk7WUFDRkgsV0FBVztZQUNYRSxTQUFTO1lBRVQsOENBQThDO1lBQzlDLE1BQU1FLFdBQVdsQixnRUFBZ0JBO1lBQ2pDbUIsUUFBUUMsR0FBRyxDQUFDLENBQUMsMkJBQTJCLEVBQUVGLFVBQVU7WUFFcEQseUNBQXlDO1lBQ3pDLE1BQU1HLE9BQU9wQiwyREFBV0EsQ0FBQ2lCO1lBQ3pCLE1BQU1JLGVBQWVELEtBQUtFLE1BQU0sQ0FBQyxHQUFHLElBQUlDLEdBQUcsQ0FBQyxDQUFDQyxTQUFZO29CQUN2REMsSUFBSUQ7b0JBQ0pFLE9BQU87Z0JBQ1Q7WUFFQSxzREFBc0Q7WUFDdEQsTUFBTUMsWUFBWSxJQUFJQyxPQUFPQyxXQUFXO1lBRXhDLDhEQUE4RDtZQUM5RCxNQUFNckIsV0FBVztnQkFD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QkFFQSw0Q0FBNEM7Z0JBQzVDMUYsUUFBUUMsR0FBRyxDQUFDLGNBQWNzQyxJQUFJLENBQUMsaUJBQWlCO2dCQUNoRHZDLFFBQVFDLEdBQUcsQ0FDVCxpQ0FDQXNDLElBQUksQ0FBQyxpQkFBaUIsRUFBRTNCO2dCQUcxQnJCLFlBQVlnRDtnQkFFWixpQ0FBaUM7Z0JBQ2pDLE1BQU15RCxnQkFBZ0IvQyxPQUFPZ0QsT0FBTyxDQUFDMUQsTUFBTTJDLE1BQU0sQ0FDL0MsQ0FBQyxDQUFDZ0IsS0FBS0MsTUFBTSxHQUNYLHVEQUF1RDtvQkFDdkQsT0FBT0EsVUFBVSxZQUFZQSxVQUFVLFFBQVEsVUFBVUEsTUFBTSxrREFBa0Q7O2dCQUdySCxNQUFNQyxjQUFjSixjQUFjM0YsR0FBRyxDQUFDLENBQUMsQ0FBQ3lCLEtBQUsrQyxPQUFPLEdBQU07d0JBQ3hEL0M7d0JBQ0EsR0FBSStDLE1BQU07b0JBQ1o7Z0JBRUFwRixXQUFXMkc7WUFDYjtRQUNGLEdBQ0EsQ0FBQ3hHO1lBQ0NJLFFBQVFKLEtBQUssQ0FBQywrQkFBK0JBO1lBQzdDQyxTQUFTO1FBQ1g7SUFFSjtJQUdBLGdCQUFnQjtJQUNoQixNQUFNc0csUUFBeUI7UUFDN0IvRztRQUNBRTtRQUNBRTtRQUNBRTtRQUNBRTtRQUNBMEI7UUFDQXhCO1FBQ0F1QztRQUNBUztRQUNBYTtRQUNBUTtRQUNBTztJQUNGO0lBRUEscUJBQU8sOERBQUMzRixZQUFZc0gsUUFBUTtRQUFDRixPQUFPQTtrQkFBUWpIOzs7Ozs7QUFDOUMsRUFBRTtBQUVGLHNDQUFzQztBQUMvQixNQUFNb0gsVUFBVTtJQUNyQixNQUFNQyxVQUFVcEksaURBQVVBLENBQUNZO0lBQzNCLElBQUl3SCxZQUFZdkgsV0FBVztRQUN6QixNQUFNLElBQUk0QyxNQUFNO0lBQ2xCO0lBQ0EsT0FBTzJFO0FBQ1QsRUFBRTtBQUVGLGlFQUFleEgsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXgvRGV2ZWxvcGVyL3B5cmFtaWQubmluamEvc3JjL2NvbnRleHRzL0dhbWVDb250ZXh0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvY29udGV4dHMvR2FtZUNvbnRleHQudHN4XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGRvYyxcbiAgc2V0RG9jLFxuICBnZXREb2MsXG4gIGdldERvY0Zyb21TZXJ2ZXIsXG4gIHVwZGF0ZURvYyxcbiAgb25TbmFwc2hvdCxcbiAgRG9jdW1lbnRTbmFwc2hvdCxcbn0gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG5pbXBvcnQgeyBkYiB9IGZyb20gXCIuLi9saWIvZmlyZWJhc2VcIjtcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tIFwiLi9BdXRoQ29udGV4dFwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVHYW1lQ29kZSwgc2h1ZmZsZURlY2sgfSBmcm9tIFwiLi4vbGliL2RlY2tVdGlsc1wiO1xuaW1wb3J0IHtcbiAgR2FtZUNvbnRleHRUeXBlLFxuICBHYW1lRGF0YSxcbiAgUGxheWVyLFxuICBUcmFuc2FjdGlvbixcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbi8vIENyZWF0ZSBHYW1lIENvbnRleHRcbmNvbnN0IEdhbWVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxHYW1lQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbi8vIEdhbWUgUHJvdmlkZXIgQ29tcG9uZW50XG5leHBvcnQgY29uc3QgR2FtZVByb3ZpZGVyOiBSZWFjdC5GQzx7IGNoaWxkcmVuOiBSZWFjdC5SZWFjdE5vZGUgfT4gPSAoe1xuICBjaGlsZHJlbixcbn0pID0+IHtcbiAgY29uc3QgeyB1c2VyVWlkIH0gPSB1c2VBdXRoKCk7XG4gIGNvbnN0IFtnYW1lSWQsIHNldEdhbWVJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2dhbWVEYXRhLCBzZXRHYW1lRGF0YV0gPSB1c2VTdGF0ZTxHYW1lRGF0YSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcGxheWVycywgc2V0UGxheWVyc10gPSB1c2VTdGF0ZTxQbGF5ZXJbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gQ3JlYXRlIGEgbmV3IGdhbWUgYXMgaG9zdFxuICBjb25zdCBjcmVhdGVHYW1lID0gYXN5bmMgKCk6IFByb21pc2U8c3RyaW5nPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgZ2FtZSBjb2RlICg0IHJhbmRvbSBsZXR0ZXJzKVxuICAgICAgY29uc3Qgcm9vbUNvZGUgPSBnZW5lcmF0ZUdhbWVDb2RlKCk7XG4gICAgICBjb25zb2xlLmxvZyhgQ3JlYXRpbmcgbmV3IGdhbWUgd2l0aCBJRDogJHtyb29tQ29kZX1gKTtcblxuICAgICAgLy8gQ3JlYXRlIHNodWZmbGVkIGRlY2sgYW5kIHB5cmFtaWQgY2FyZHNcbiAgICAgIGNvbnN0IGRlY2sgPSBzaHVmZmxlRGVjayhyb29tQ29kZSk7XG4gICAgICBjb25zdCBweXJhbWlkQ2FyZHMgPSBkZWNrLnNwbGljZSgwLCAxNSkubWFwKChjYXJkSWQpID0+ICh7XG4gICAgICAgIGlkOiBjYXJkSWQsXG4gICAgICAgIHNob3duOiBmYWxzZSxcbiAgICAgIH0pKTtcblxuICAgICAgLy8gQ3JlYXRlIGEgdGltZXN0YW1wIHRvIGhlbHAgZGVidWcgY29uY3VycmVuY3kgaXNzdWVzXG4gICAgICBjb25zdCB0aW1lc3RhbXAgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICAgIC8vIENyZWF0ZSBnYW1lIGRvY3VtZW50IGluIEZpcmVzdG9yZSB3aXRoIGEgdW5pcXVlIGRlYnVnIGZpZWxkXG4gICAgICBjb25zdCBnYW1lRGF0YSA9IHtcbiAgICAgICAgXCJfX3B5cmFtaWQubWV0YVwiOiB7XG4gICAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgICAgdG90YWxfZHJpbmtzOiAwLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgZmFuY3lfc2hvd246IGZhbHNlLFxuICAgICAgICAgIGRlYnVnX2lkOiBgJHt0aW1lc3RhbXB9XyR7TWF0aC5yYW5kb20oKVxuICAgICAgICAgICAgLnRvU3RyaW5nKDM2KVxuICAgICAgICAgICAgLnN1YnN0cmluZygyLCA3KX1gLFxuICAgICAgICB9LFxuICAgICAgICBcIl9fcHlyYW1pZC5jYXJkc1wiOiBweXJhbWlkQ2FyZHMsXG4gICAgICAgIFwiX19weXJhbWlkLmRlY2tcIjogZGVjayxcbiAgICAgIH07XG5cbiAgICAgIC8vIENyZWF0ZSB0aGUgZG9jdW1lbnRcbiAgICAgIGF3YWl0IHNldERvYyhkb2MoZGIsIFwiZ2FtZXNcIiwgcm9vbUNvZGUpLCBnYW1lRGF0YSk7XG5cbiAgICAgIHNldEdhbWVJZChyb29tQ29kZSk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBnYW1lIHVwZGF0ZXNcbiAgICAgIHN1YnNjcmliZVRvR2FtZVVwZGF0ZXMocm9vbUNvZGUpO1xuXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHJldHVybiByb29tQ29kZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGdhbWU6XCIsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBnYW1lLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIEpvaW4gYW4gZXhpc3RpbmcgZ2FtZVxuICBjb25zdCBqb2luR2FtZSA9IGFzeW5jIChnYW1lSWQ6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgZ2FtZSBleGlzdHNcbiAgICAgIGNvbnN0IGdhbWVSZWYgPSBkb2MoZGIsIFwiZ2FtZXNcIiwgZ2FtZUlkLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgY29uc3QgZ2FtZVNuYXAgPSBhd2FpdCBnZXREb2MoZ2FtZVJlZik7XG5cbiAgICAgIGlmICghZ2FtZVNuYXAuZXhpc3RzKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2FtZSBub3QgZm91bmRcIik7XG4gICAgICB9XG5cbiAgICAgIGlmICghdXNlclVpZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYXV0aGVudGljYXRlZFwiKTtcbiAgICAgIH1cblxuICAgICAgLy8gSm9pbiB0aGUgZ2FtZSBieSBhZGRpbmcgcGxheWVyIHRvIGdhbWUgZG9jdW1lbnRcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhnYW1lUmVmLCB7XG4gICAgICAgIFt1c2VyVWlkXToge1xuICAgICAgICAgIGFkbWluOiB0cnVlLFxuICAgICAgICAgIHVpZDogdXNlclVpZCxcbiAgICAgICAgICBuYW1lOiBuYW1lLnRvVXBwZXJDYXNlKCksXG4gICAgICAgICAgZHJpbmtzOiAwLFxuICAgICAgICAgIGluaXRpYWxfZGVhbDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgc2V0R2FtZUlkKGdhbWVJZC50b1VwcGVyQ2FzZSgpKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIGdhbWUgdXBkYXRlc1xuICAgICAgc3Vic2NyaWJlVG9HYW1lVXBkYXRlcyhnYW1lSWQudG9VcHBlckNhc2UoKSk7XG5cbiAgICAgIC8vIFNhdmUgdXNlciBuYW1lIGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicGxheWVyTmFtZVwiLCBuYW1lLnRvVXBwZXJDYXNlKCkpO1xuXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID1cbiAgICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBqb2luIGdhbWVcIjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBqb2luaW5nIGdhbWU6XCIsIGVycm9yKTtcbiAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICAvLyBTdGFydCB0aGUgZ2FtZSAoaG9zdCBvbmx5KVxuY29uc3Qgc3RhcnRHYW1lID0gYXN5bmMgKGdhbWVJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZ2FtZUlkVXBwZXIgPSBnYW1lSWQudG9VcHBlckNhc2UoKTtcbiAgICBjb25zb2xlLmxvZyhgU3RhcnRpbmcgZ2FtZSB3aXRoIElEOiAke2dhbWVJZFVwcGVyfWApO1xuXG4gICAgLy8gR2V0IGEgZnJlc2ggcmVmZXJlbmNlIHRvIHRoZSBnYW1lXG4gICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgXCJnYW1lc1wiLCBnYW1lSWRVcHBlcik7XG5cbiAgICAvLyBHZXQgY3VycmVudCBkb2N1bWVudCBkYXRhIGRpcmVjdGx5IGZyb20gc2VydmVyXG4gICAgY29uc3QgZ2FtZVNuYXAgPSBhd2FpdCBnZXREb2NGcm9tU2VydmVyKGdhbWVSZWYpO1xuICAgIGlmICghZ2FtZVNuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkdhbWUgbm90IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgY29tcGxldGUgZG9jdW1lbnQgZGF0YVxuICAgIGNvbnN0IGdhbWVEYXRhID0gZ2FtZVNuYXAuZGF0YSgpO1xuICAgIGNvbnNvbGUubG9nKFwiQ3VycmVudCBmdWxsIGdhbWUgZGF0YTpcIiwgZ2FtZURhdGEpO1xuXG4gICAgLy8gQ3JlYXRlIGFuIGVudGlyZWx5IG5ldyBtZXRhIG9iamVjdFxuICAgIGNvbnN0IG5ld01ldGEgPSB7XG4gICAgICAuLi5nYW1lRGF0YVtcIl9fcHlyYW1pZC5tZXRhXCJdLFxuICAgICAgc3RhcnRlZDogdHJ1ZSxcbiAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKSxcbiAgICAgIGRlYnVnX2lkOiBgc3RhcnRlZF8ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1gLFxuICAgIH07XG5cbiAgICAvLyBDcmVhdGUgYSBjb21wbGV0ZWx5IG5ldyBkb2N1bWVudCB3aXRoIGFsbCB0aGUgc2FtZSBkYXRhIGJ1dCB1cGRhdGVkIG1ldGFcbiAgICBjb25zdCBuZXdHYW1lRGF0YSA9IHtcbiAgICAgIC4uLmdhbWVEYXRhLFxuICAgICAgXCJfX3B5cmFtaWQubWV0YVwiOiBuZXdNZXRhLFxuICAgIH07XG5cbiAgICBjb25zb2xlLmxvZyhcIk5ldyBnYW1lIGRhdGEgdG8gc2F2ZTpcIiwgbmV3R2FtZURhdGEpO1xuXG4gICAgLy8gQ29tcGxldGUgZG9jdW1lbnQgcmVwbGFjZW1lbnQgaW5zdGVhZCBvZiBmaWVsZCB1cGRhdGVcbiAgICBhd2FpdCBzZXREb2MoZ2FtZVJlZiwgbmV3R2FtZURhdGEpO1xuXG4gICAgLy8gRm9yY2UgYSBzZXJ2ZXIgcmVhZCByaWdodCBhZnRlciB1cGRhdGVcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHZlcmlmeVNuYXAgPSBhd2FpdCBnZXREb2NGcm9tU2VydmVyKGdhbWVSZWYpO1xuICAgICAgY29uc3QgdmVyaWZ5RGF0YSA9IHZlcmlmeVNuYXAuZGF0YSgpO1xuICAgICAgY29uc29sZS5sb2coXG4gICAgICAgIFwiVkVSSUZJQ0FUSU9OIC0gR2FtZSBkYXRhIDEgc2Vjb25kIGFmdGVyIHVwZGF0ZTpcIixcbiAgICAgICAgdmVyaWZ5RGF0YVxuICAgICAgKTtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIlZFUklGSUNBVElPTiAtIFN0YXJ0ZWQgdmFsdWU6XCIsXG4gICAgICAgIHZlcmlmeURhdGE/LltcIl9fcHlyYW1pZC5tZXRhXCJdPy5zdGFydGVkXG4gICAgICApO1xuICAgIH0sIDEwMDApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzdGFydGluZyBnYW1lOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbiAgLy8gU2VsZWN0IGEgY2FyZCBmcm9tIHRoZSBweXJhbWlkIChob3N0IG9ubHkpXG4gIGNvbnN0IHNlbGVjdENhcmQgPSBhc3luYyAoXG4gICAgZ2FtZUlkOiBzdHJpbmcsXG4gICAgY2FyZEluZGV4OiBudW1iZXJcbiAgKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGdhbWVSZWYgPSBkb2MoZGIsIFwiZ2FtZXNcIiwgZ2FtZUlkLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgY29uc3QgZ2FtZVNuYXAgPSBhd2FpdCBnZXREb2MoZ2FtZVJlZik7XG4gICAgICBjb25zdCBnYW1lRGF0YSA9IGdhbWVTbmFwLmRhdGEoKSBhcyBHYW1lRGF0YTtcblxuICAgICAgaWYgKCFnYW1lRGF0YSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCByb3VuZE51bWJlciA9XG4gICAgICAgIE9iamVjdC5rZXlzKGdhbWVEYXRhW1wiX19weXJhbWlkLnJvdW5kc1wiXSB8fCB7fSkubGVuZ3RoICsgMTtcbiAgICAgIGNvbnN0IHJvdW5kUm93ID0gTWF0aC5jZWlsKCgxNSAtIGNhcmRJbmRleCkgLyA1KTsgLy8gQ2FsY3VsYXRlIHJvdyBiYXNlZCBvbiBjYXJkIHBvc2l0aW9uXG4gICAgICBjb25zdCBjYXJkSWQgPSBnYW1lRGF0YVtcIl9fcHlyYW1pZC5jYXJkc1wiXVtjYXJkSW5kZXhdLmlkO1xuXG4gICAgICAvLyBVcGRhdGUgc2hvd24gc3RhdHVzIGZvciB0aGUgc2VsZWN0ZWQgY2FyZFxuICAgICAgY29uc3QgdXBkYXRlZENhcmRzID0gWy4uLmdhbWVEYXRhW1wiX19weXJhbWlkLmNhcmRzXCJdXTtcbiAgICAgIHVwZGF0ZWRDYXJkc1tjYXJkSW5kZXhdLnNob3duID0gdHJ1ZTtcblxuICAgICAgLy8gQ3JlYXRlIGEgbmV3IHJvdW5kXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZ2FtZVJlZiwge1xuICAgICAgICBcIl9fcHlyYW1pZC5jYXJkc1wiOiB1cGRhdGVkQ2FyZHMsXG4gICAgICAgIFwiX19weXJhbWlkLmN1cnJlbnRSb3VuZFwiOiB7XG4gICAgICAgICAgcm91bmRfbnVtYmVyOiByb3VuZE51bWJlcixcbiAgICAgICAgICByb3VuZF9yb3c6IHJvdW5kUm93LFxuICAgICAgICAgIHJvdW5kX2NhcmQ6IGNhcmRJZCxcbiAgICAgICAgfSxcbiAgICAgICAgW2BfX3B5cmFtaWQucm91bmRzLiR7cm91bmROdW1iZXJ9YF06IHtcbiAgICAgICAgICByb3VuZF9yb3c6IHJvdW5kUm93LFxuICAgICAgICAgIHJvdW5kX2NhcmQ6IGNhcmRJZCxcbiAgICAgICAgICByb3VuZF90cmFuc2FjdGlvbnM6IFtdLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzZWxlY3RpbmcgY2FyZDpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIENhbGwgYW5vdGhlciBwbGF5ZXIgdG8gZHJpbmtcbiAgY29uc3QgY2FsbFBsYXllciA9IGFzeW5jIChcbiAgICBnYW1lSWQ6IHN0cmluZyxcbiAgICBmcm9tVWlkOiBzdHJpbmcsXG4gICAgdG9VaWQ6IHN0cmluZyxcbiAgICByb3VuZE51bWJlcjogbnVtYmVyXG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCBcImdhbWVzXCIsIGdhbWVJZC50b1VwcGVyQ2FzZSgpKTtcbiAgICAgIGNvbnN0IGdhbWVTbmFwID0gYXdhaXQgZ2V0RG9jKGdhbWVSZWYpO1xuICAgICAgY29uc3QgZ2FtZURhdGEgPSBnYW1lU25hcC5kYXRhKCkgYXMgR2FtZURhdGE7XG5cbiAgICAgIGlmIChcbiAgICAgICAgIWdhbWVEYXRhIHx8XG4gICAgICAgICFnYW1lRGF0YVtcIl9fcHlyYW1pZC5yb3VuZHNcIl0gfHxcbiAgICAgICAgIWdhbWVEYXRhW1wiX19weXJhbWlkLnJvdW5kc1wiXVtyb3VuZE51bWJlcl1cbiAgICAgICkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSb3VuZCBub3QgZm91bmRcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uOiBUcmFuc2FjdGlvbiA9IHtcbiAgICAgICAgdF9mcm9tOiBmcm9tVWlkLFxuICAgICAgICB0X3RvOiB0b1VpZCxcbiAgICAgICAgc3RhdHVzOiBcIndhaXRpbmdcIixcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGN1cnJlbnRSb3VuZFRyYW5zYWN0aW9ucyA9IFtcbiAgICAgICAgLi4uKGdhbWVEYXRhW1wiX19weXJhbWlkLnJvdW5kc1wiXVtyb3VuZE51bWJlcl0ucm91bmRfdHJhbnNhY3Rpb25zIHx8IFtdKSxcbiAgICAgICAgdHJhbnNhY3Rpb24sXG4gICAgICBdO1xuXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZ2FtZVJlZiwge1xuICAgICAgICBbYF9fcHlyYW1pZC5yb3VuZHMuJHtyb3VuZE51bWJlcn0ucm91bmRfdHJhbnNhY3Rpb25zYF06XG4gICAgICAgICAgY3VycmVudFJvdW5kVHJhbnNhY3Rpb25zLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjYWxsaW5nIHBsYXllcjpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc3BvbmQgdG8gYSBjYWxsIChhY2NlcHQgb3IgY2FsbCBidWxsc2hpdClcbiAgY29uc3QgcmVzcG9uZFRvQ2FsbCA9IGFzeW5jIChcbiAgICBnYW1lSWQ6IHN0cmluZyxcbiAgICBmcm9tVWlkOiBzdHJpbmcsXG4gICAgdG9VaWQ6IHN0cmluZyxcbiAgICByb3VuZE51bWJlcjogbnVtYmVyLFxuICAgIGFjY2VwdDogYm9vbGVhblxuICApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZ2FtZVJlZiA9IGRvYyhkYiwgXCJnYW1lc1wiLCBnYW1lSWQudG9VcHBlckNhc2UoKSk7XG4gICAgICBjb25zdCBnYW1lU25hcCA9IGF3YWl0IGdldERvYyhnYW1lUmVmKTtcbiAgICAgIGNvbnN0IGdhbWVEYXRhID0gZ2FtZVNuYXAuZGF0YSgpIGFzIEdhbWVEYXRhO1xuXG4gICAgICBpZiAoXG4gICAgICAgICFnYW1lRGF0YSB8fFxuICAgICAgICAhZ2FtZURhdGFbXCJfX3B5cmFtaWQucm91bmRzXCJdIHx8XG4gICAgICAgICFnYW1lRGF0YVtcIl9fcHlyYW1pZC5yb3VuZHNcIl1bcm91bmROdW1iZXJdXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUm91bmQgbm90IGZvdW5kXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0cmFuc2FjdGlvbnMgPVxuICAgICAgICBnYW1lRGF0YVtcIl9fcHlyYW1pZC5yb3VuZHNcIl1bcm91bmROdW1iZXJdLnJvdW5kX3RyYW5zYWN0aW9ucztcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uSW5kZXggPSB0cmFuc2FjdGlvbnMuZmluZEluZGV4KFxuICAgICAgICAodCkgPT5cbiAgICAgICAgICB0LnRfZnJvbSA9PT0gZnJvbVVpZCAmJiB0LnRfdG8gPT09IHRvVWlkICYmIHQuc3RhdHVzID09PSBcIndhaXRpbmdcIlxuICAgICAgKTtcblxuICAgICAgaWYgKHRyYW5zYWN0aW9uSW5kZXggPT09IC0xKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zYWN0aW9uIG5vdCBmb3VuZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdXBkYXRlZFRyYW5zYWN0aW9ucyA9IFsuLi50cmFuc2FjdGlvbnNdO1xuICAgICAgdXBkYXRlZFRyYW5zYWN0aW9uc1t0cmFuc2FjdGlvbkluZGV4XS5zdGF0dXMgPSBhY2NlcHRcbiAgICAgICAgPyBcImFjY2VwdGVkXCJcbiAgICAgICAgOiBcImJ1bGxzaGl0XCI7XG5cbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhnYW1lUmVmLCB7XG4gICAgICAgIFtgX19weXJhbWlkLnJvdW5kcy4ke3JvdW5kTnVtYmVyfS5yb3VuZF90cmFuc2FjdGlvbnNgXTpcbiAgICAgICAgICB1cGRhdGVkVHJhbnNhY3Rpb25zLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXNwb25kaW5nIHRvIGNhbGw6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICAvLyBTaG93IGEgY2FyZCBmb3IgYnVsbHNoaXQgY2hlY2tcbiAgY29uc3Qgc2hvd0J1bGxzaGl0Q2FyZCA9IGFzeW5jIChcbiAgICBnYW1lSWQ6IHN0cmluZyxcbiAgICBwbGF5ZXJVaWQ6IHN0cmluZyxcbiAgICBjYXJkSW5kZXg6IG51bWJlcixcbiAgICByb3VuZE51bWJlcjogbnVtYmVyLFxuICAgIGNvcnJlY3Q6IGJvb2xlYW5cbiAgKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGdhbWVSZWYgPSBkb2MoZGIsIFwiZ2FtZXNcIiwgZ2FtZUlkLnRvVXBwZXJDYXNlKCkpO1xuICAgICAgY29uc3QgZ2FtZVNuYXAgPSBhd2FpdCBnZXREb2MoZ2FtZVJlZik7XG4gICAgICBjb25zdCBnYW1lRGF0YSA9IGdhbWVTbmFwLmRhdGEoKSBhcyBHYW1lRGF0YTtcblxuICAgICAgaWYgKCFnYW1lRGF0YSkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBwbGF5ZXIgPSBnYW1lRGF0YVtwbGF5ZXJVaWRdIGFzIFBsYXllcjtcbiAgICAgIGlmICghcGxheWVyIHx8ICFwbGF5ZXIuY2FyZHMpIHJldHVybjtcblxuICAgICAgLy8gRmluZCB0cmFuc2FjdGlvblxuICAgICAgY29uc3QgdHJhbnNhY3Rpb25zID1cbiAgICAgICAgZ2FtZURhdGFbXCJfX3B5cmFtaWQucm91bmRzXCJdW3JvdW5kTnVtYmVyXS5yb3VuZF90cmFuc2FjdGlvbnM7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbkluZGV4ID0gdHJhbnNhY3Rpb25zLmZpbmRJbmRleChcbiAgICAgICAgKHQpID0+IHQudF9mcm9tID09PSBwbGF5ZXJVaWQgJiYgdC5zdGF0dXMgPT09IFwiYnVsbHNoaXRcIlxuICAgICAgKTtcblxuICAgICAgaWYgKHRyYW5zYWN0aW9uSW5kZXggPT09IC0xKSByZXR1cm47XG5cbiAgICAgIC8vIFVwZGF0ZSB0cmFuc2FjdGlvbiBzdGF0dXNcbiAgICAgIGNvbnN0IHVwZGF0ZWRUcmFuc2FjdGlvbnMgPSBbLi4udHJhbnNhY3Rpb25zXTtcbiAgICAgIHVwZGF0ZWRUcmFuc2FjdGlvbnNbdHJhbnNhY3Rpb25JbmRleF0uc3RhdHVzID0gY29ycmVjdFxuICAgICAgICA/IFwiYnVsbHNoaXRfY29ycmVjdFwiXG4gICAgICAgIDogXCJidWxsc2hpdF93cm9uZ1wiO1xuXG4gICAgICAvLyBSZW1vdmUgY2FyZCBhbmQgZ2V0IGEgbmV3IG9uZVxuICAgICAgY29uc3QgbmV3RGVjayA9IFsuLi5nYW1lRGF0YVtcIl9fcHlyYW1pZC5kZWNrXCJdXTtcbiAgICAgIGNvbnN0IG5ld0NhcmQgPSBuZXdEZWNrLnNoaWZ0KCk7XG5cbiAgICAgIGNvbnN0IHVwZGF0ZWRDYXJkcyA9IHBsYXllci5jYXJkcy5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGNhcmRJbmRleCk7XG4gICAgICBpZiAobmV3Q2FyZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwZGF0ZWRDYXJkcy5wdXNoKHsgaTogbmV3Q2FyZCwgc2VlbjogZmFsc2UgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSBnYW1lIHN0YXRlXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZ2FtZVJlZiwge1xuICAgICAgICBbYF9fcHlyYW1pZC5yb3VuZHMuJHtyb3VuZE51bWJlcn0ucm91bmRfdHJhbnNhY3Rpb25zYF06XG4gICAgICAgICAgdXBkYXRlZFRyYW5zYWN0aW9ucyxcbiAgICAgICAgW2Ake3BsYXllclVpZH0uY2FyZHNgXTogdXBkYXRlZENhcmRzLFxuICAgICAgICBcIl9fcHlyYW1pZC5kZWNrXCI6IG5ld0RlY2ssXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNob3dpbmcgYnVsbHNoaXQgY2FyZDpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIC8vIFN1YnNjcmliZSB0byBnYW1lIHVwZGF0ZXNcbiAgY29uc3Qgc3Vic2NyaWJlVG9HYW1lVXBkYXRlcyA9IChnYW1lSWQ6IHN0cmluZykgPT4ge1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSB1c2UgdG9VcHBlckNhc2UgdG8gbWFpbnRhaW4gY29uc2lzdGVuY3lcbiAgICBjb25zdCBnYW1lSWRVcHBlciA9IGdhbWVJZC50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnNvbGUubG9nKGBTdWJzY3JpYmluZyB0byBnYW1lIHVwZGF0ZXMgZm9yOiAke2dhbWVJZFVwcGVyfWApO1xuXG4gICAgLy8gVXNlIGdldERvY0Zyb21TZXJ2ZXIgdG8gZW5zdXJlIGZyZXNoIGRhdGFcbiAgICBjb25zdCBnYW1lUmVmID0gZG9jKGRiLCBcImdhbWVzXCIsIGdhbWVJZFVwcGVyKTtcblxuICAgIC8vIEdldCBmcmVzaCBkYXRhIGZpcnN0XG4gICAgZ2V0RG9jRnJvbVNlcnZlcihnYW1lUmVmKVxuICAgICAgLnRoZW4oKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBmcmVzaCBzZXJ2ZXIgZGF0YTpcIiwgc25hcHNob3QuZGF0YSgpKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZnJlc2ggZGF0YTpcIiwgZXJyKSk7XG5cbiAgICAvLyBUaGVuIHNldCB1cCByZWFsLXRpbWUgbGlzdGVuZXJcbiAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgIGdhbWVSZWYsXG4gICAgICB7IGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6IHRydWUgfSxcbiAgICAgIChzbmFwc2hvdDogRG9jdW1lbnRTbmFwc2hvdCkgPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBzbmFwc2hvdC5tZXRhZGF0YS5oYXNQZW5kaW5nV3JpdGVzXG4gICAgICAgICAgPyBcIkxvY2FsXCJcbiAgICAgICAgICA6IHNuYXBzaG90Lm1ldGFkYXRhLmZyb21DYWNoZVxuICAgICAgICAgID8gXCJDYWNoZVwiXG4gICAgICAgICAgOiBcIlNlcnZlclwiO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGBEYXRhIGNhbWUgZnJvbSAke3NvdXJjZX06YCwgc25hcHNob3QuZGF0YSgpKTtcblxuICAgICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpIGFzIEdhbWVEYXRhIHwgdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgIC8vIEZvcmNlIGRhdGEgcmVmcmVzaCB3aGVuIG5lZWRlZFxuICAgICAgICAgIGlmIChzb3VyY2UgPT09IFwiQ2FjaGVcIikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJHb3QgY2FjaGVkIGRhdGEsIGZvcmNpbmcgcmVmcmVzaCBmcm9tIHNlcnZlclwiKTtcbiAgICAgICAgICAgIGdldERvY0Zyb21TZXJ2ZXIoZ2FtZVJlZikuY2F0Y2goKGVycikgPT5cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlJlZnJlc2ggZXJyb3I6XCIsIGVycilcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gTG9nIHRoZSBzcGVjaWZpYyBtZXRhIGZpZWxkIHdlIGNhcmUgYWJvdXRcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIk1ldGEgZGF0YTpcIiwgZGF0YVtcIl9fcHlyYW1pZC5tZXRhXCJdKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIFwiU3RhcnRlZCB2YWx1ZSBmcm9tIEZpcmVzdG9yZTpcIixcbiAgICAgICAgICAgIGRhdGFbXCJfX3B5cmFtaWQubWV0YVwiXT8uc3RhcnRlZFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBzZXRHYW1lRGF0YShkYXRhKTtcblxuICAgICAgICAgIC8vIEV4dHJhY3QgcGxheWVycyBmcm9tIGdhbWUgZGF0YVxuICAgICAgICAgIGNvbnN0IHBsYXllckVudHJpZXMgPSBPYmplY3QuZW50cmllcyhkYXRhKS5maWx0ZXIoXG4gICAgICAgICAgICAoW2tleSwgdmFsdWVdKSA9PlxuICAgICAgICAgICAgICAvLyBMb29rIHNwZWNpZmljYWxseSBmb3Igb2JqZWN0cyB3aXRoIHBsYXllciBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBcIm5hbWVcIiBpbiB2YWx1ZSAvLyBUaGlzIG1hdGNoZXMgdGhlIGxlZ2FjeSBpbXBsZW1lbnRhdGlvbidzIGZpbHRlclxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBjb25zdCBwbGF5ZXJzTGlzdCA9IHBsYXllckVudHJpZXMubWFwKChbdWlkLCBwbGF5ZXJdKSA9PiAoe1xuICAgICAgICAgICAgdWlkLFxuICAgICAgICAgICAgLi4uKHBsYXllciBhcyBQbGF5ZXIpLFxuICAgICAgICAgIH0pKTtcblxuICAgICAgICAgIHNldFBsYXllcnMocGxheWVyc0xpc3QpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGdhbWUgdXBkYXRlczpcIiwgZXJyb3IpO1xuICAgICAgICBzZXRFcnJvcihcIkZhaWxlZCB0byBnZXQgZ2FtZSB1cGRhdGVzLiBQbGVhc2UgdHJ5IHJlZnJlc2hpbmcgdGhlIHBhZ2UuXCIpO1xuICAgICAgfVxuICAgICk7XG4gIH07XG5cblxuICAvLyBDb250ZXh0IHZhbHVlXG4gIGNvbnN0IHZhbHVlOiBHYW1lQ29udGV4dFR5cGUgPSB7XG4gICAgZ2FtZUlkLFxuICAgIGdhbWVEYXRhLFxuICAgIHBsYXllcnMsXG4gICAgbG9hZGluZyxcbiAgICBlcnJvcixcbiAgICBqb2luR2FtZSxcbiAgICBjcmVhdGVHYW1lLFxuICAgIHN0YXJ0R2FtZSxcbiAgICBzZWxlY3RDYXJkLFxuICAgIGNhbGxQbGF5ZXIsXG4gICAgcmVzcG9uZFRvQ2FsbCxcbiAgICBzaG93QnVsbHNoaXRDYXJkLFxuICB9O1xuXG4gIHJldHVybiA8R2FtZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT57Y2hpbGRyZW59PC9HYW1lQ29udGV4dC5Qcm92aWRlcj47XG59O1xuXG4vLyBDdXN0b20gaG9vayB0byB1c2UgdGhlIGdhbWUgY29udGV4dFxuZXhwb3J0IGNvbnN0IHVzZUdhbWUgPSAoKSA9PiB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEdhbWVDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUdhbWUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEdhbWVQcm92aWRlclwiKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEdhbWVDb250ZXh0O1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsImRvYyIsInNldERvYyIsImdldERvYyIsImdldERvY0Zyb21TZXJ2ZXIiLCJ1cGRhdGVEb2MiLCJvblNuYXBzaG90IiwiZGIiLCJ1c2VBdXRoIiwiZ2VuZXJhdGVHYW1lQ29kZSIsInNodWZmbGVEZWNrIiwiR2FtZUNvbnRleHQiLCJ1bmRlZmluZWQiLCJHYW1lUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXJVaWQiLCJnYW1lSWQiLCJzZXRHYW1lSWQiLCJnYW1lRGF0YSIsInNldEdhbWVEYXRhIiwicGxheWVycyIsInNldFBsYXllcnMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJjcmVhdGVHYW1lIiwicm9vbUNvZGUiLCJjb25zb2xlIiwibG9nIiwiZGVjayIsInB5cmFtaWRDYXJkcyIsInNwbGljZSIsIm1hcCIsImNhcmRJZCIsImlkIiwic2hvd24iLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzdGFydGVkIiwidG90YWxfZHJpbmtzIiwiY3JlYXRlZF9hdCIsImZhbmN5X3Nob3duIiwiZGVidWdfaWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJzdWJzY3JpYmVUb0dhbWVVcGRhdGVzIiwiam9pbkdhbWUiLCJuYW1lIiwiZ2FtZVJlZiIsInRvVXBwZXJDYXNlIiwiZ2FtZVNuYXAiLCJleGlzdHMiLCJFcnJvciIsImFkbWluIiwidWlkIiwiZHJpbmtzIiwiaW5pdGlhbF9kZWFsIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJzdGFydEdhbWUiLCJnYW1lSWRVcHBlciIsImRhdGEiLCJuZXdNZXRhIiwibGFzdF91cGRhdGVkIiwibmV3R2FtZURhdGEiLCJzZXRUaW1lb3V0IiwidmVyaWZ5U25hcCIsInZlcmlmeURhdGEiLCJzZWxlY3RDYXJkIiwiY2FyZEluZGV4Iiwicm91bmROdW1iZXIiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwicm91bmRSb3ciLCJjZWlsIiwidXBkYXRlZENhcmRzIiwicm91bmRfbnVtYmVyIiwicm91bmRfcm93Iiwicm91bmRfY2FyZCIsInJvdW5kX3RyYW5zYWN0aW9ucyIsImNhbGxQbGF5ZXIiLCJmcm9tVWlkIiwidG9VaWQiLCJ0cmFuc2FjdGlvbiIsInRfZnJvbSIsInRfdG8iLCJzdGF0dXMiLCJjdXJyZW50Um91bmRUcmFuc2FjdGlvbnMiLCJyZXNwb25kVG9DYWxsIiwiYWNjZXB0IiwidHJhbnNhY3Rpb25zIiwidHJhbnNhY3Rpb25JbmRleCIsImZpbmRJbmRleCIsInQiLCJ1cGRhdGVkVHJhbnNhY3Rpb25zIiwic2hvd0J1bGxzaGl0Q2FyZCIsInBsYXllclVpZCIsImNvcnJlY3QiLCJwbGF5ZXIiLCJjYXJkcyIsIm5ld0RlY2siLCJuZXdDYXJkIiwic2hpZnQiLCJmaWx0ZXIiLCJfIiwiaSIsInB1c2giLCJzZWVuIiwidGhlbiIsInNuYXBzaG90IiwiY2F0Y2giLCJlcnIiLCJpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzIiwic291cmNlIiwibWV0YWRhdGEiLCJoYXNQZW5kaW5nV3JpdGVzIiwiZnJvbUNhY2hlIiwicGxheWVyRW50cmllcyIsImVudHJpZXMiLCJrZXkiLCJ2YWx1ZSIsInBsYXllcnNMaXN0IiwiUHJvdmlkZXIiLCJ1c2VHYW1lIiwiY29udGV4dCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/contexts/GameContext.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/deckUtils.ts":
/*!******************************!*\
  !*** ./src/lib/deckUtils.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cardIndexToString: () => (/* binding */ cardIndexToString),\n/* harmony export */   cardIndexToText: () => (/* binding */ cardIndexToText),\n/* harmony export */   createDeck: () => (/* binding */ createDeck),\n/* harmony export */   generateGameCode: () => (/* binding */ generateGameCode),\n/* harmony export */   getCardDetails: () => (/* binding */ getCardDetails),\n/* harmony export */   getPlayerCardCoordinates: () => (/* binding */ getPlayerCardCoordinates),\n/* harmony export */   getPyramidCoordinates: () => (/* binding */ getPyramidCoordinates),\n/* harmony export */   getPyramidRow: () => (/* binding */ getPyramidRow),\n/* harmony export */   getRandomTaunt: () => (/* binding */ getRandomTaunt),\n/* harmony export */   shuffleDeck: () => (/* binding */ shuffleDeck)\n/* harmony export */ });\n/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! seedrandom */ \"seedrandom\");\n/* harmony import */ var seedrandom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(seedrandom__WEBPACK_IMPORTED_MODULE_0__);\n// src/lib/deckUtils.ts\n\n// Create a full deck of 52 cards\nconst createDeck = ()=>{\n    const deck = [];\n    for(let i = 0; i < 52; i++){\n        deck.push(i);\n    }\n    return deck;\n};\n// Generate a random 4-letter game code\nconst generateGameCode = ()=>{\n    const characters = 'abcdefghijklmnopqrstuvwxyz';\n    let result = '';\n    for(let i = 0; i < 4; i++){\n        const randomIndex = Math.floor(Math.random() * characters.length);\n        result += characters.charAt(randomIndex);\n    }\n    return result.toUpperCase();\n};\n// Shuffle a deck using a seed\nconst shuffleDeck = (seed)=>{\n    const rng = seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(seed);\n    const deck = createDeck();\n    // Fisher-Yates shuffle algorithm\n    for(let i = deck.length - 1; i > 0; i--){\n        const j = Math.floor(rng() * (i + 1));\n        [deck[i], deck[j]] = [\n            deck[j],\n            deck[i]\n        ];\n    }\n    return deck;\n};\n// Convert card index to suit and rank\nconst getCardDetails = (cardIndex)=>{\n    const suit = Math.floor(cardIndex / 13);\n    const rank = cardIndex % 13;\n    return {\n        suit,\n        rank,\n        i: cardIndex\n    };\n};\n// Convert card index to readable string\nconst cardIndexToString = (cardIndex)=>{\n    const card = getCardDetails(cardIndex);\n    const ranks = [\n        'A',\n        '2',\n        '3',\n        '4',\n        '5',\n        '6',\n        '7',\n        '8',\n        '9',\n        '10',\n        'J',\n        'Q',\n        'K'\n    ];\n    const suits = [\n        '',\n        '',\n        '',\n        ''\n    ];\n    return `${ranks[card.rank]}${suits[card.suit]}`;\n};\n// Convert card index to English text\nconst cardIndexToText = (cardIndex)=>{\n    const card = getCardDetails(cardIndex);\n    const ranks = [\n        'an Ace',\n        'a Two',\n        'a Three',\n        'a Four',\n        'a Five',\n        'a Six',\n        'a Seven',\n        'an Eight',\n        'a Nine',\n        'a Ten',\n        'a Jack',\n        'a Queen',\n        'a King'\n    ];\n    return ranks[card.rank];\n};\n// Get pyramid card coordinates for display\nconst getPyramidCoordinates = (index)=>{\n    const coords = [\n        {\n            x: 179,\n            y: 442\n        },\n        {\n            x: 81,\n            y: 442\n        },\n        {\n            x: -17,\n            y: 442\n        },\n        {\n            x: -115,\n            y: 442\n        },\n        {\n            x: -217,\n            y: 442\n        },\n        {\n            x: 123,\n            y: 310\n        },\n        {\n            x: 29,\n            y: 310\n        },\n        {\n            x: -69,\n            y: 310\n        },\n        {\n            x: -166,\n            y: 310\n        },\n        {\n            x: 73,\n            y: 190\n        },\n        {\n            x: -23,\n            y: 190\n        },\n        {\n            x: -116,\n            y: 190\n        },\n        {\n            x: 37,\n            y: 65\n        },\n        {\n            x: -57,\n            y: 65\n        },\n        {\n            x: -10,\n            y: -59\n        }\n    ];\n    return index >= 0 && index < coords.length ? coords[index] : {\n        x: -1000,\n        y: -1000\n    };\n};\n// Get which row a card is in\nconst getPyramidRow = (index)=>{\n    if (index <= 4) return 1;\n    if (index <= 8) return 2;\n    if (index <= 11) return 3;\n    if (index <= 13) return 4;\n    if (index === 14) return 5;\n    return 1;\n};\n// Get player card coordinates for display\nconst getPlayerCardCoordinates = (index)=>{\n    const coords = [\n        {\n            x: 49,\n            y: 0\n        },\n        {\n            x: -89,\n            y: 0\n        },\n        {\n            x: 49,\n            y: 175\n        },\n        {\n            x: -89,\n            y: 175\n        }\n    ];\n    return index >= 0 && index < coords.length ? coords[index] : {\n        x: 0,\n        y: 0\n    };\n};\n// Generate a taunt message for a round\nconst getRandomTaunt = (roundNumber, seed)=>{\n    const rng = seedrandom__WEBPACK_IMPORTED_MODULE_0___default()(`${seed}-${roundNumber}`);\n    const taunts = [\n        [\n            'Time to get wrecked!',\n            'Time to turn our livers to coral!',\n            'Drink Responsibly, yeah'\n        ],\n        [\n            'I hear round 2 is spicy!',\n            'Enjoy the hangover!',\n            'Drinking may cause memory loss and... may also cause memory loss.'\n        ],\n        [\n            'Your liver will thank you!',\n            'Q: Whats the difference between a dog and a fox? A: 2 drinks.'\n        ],\n        [\n            'Sponsored by crippling depression.',\n            'Be kind to your friends!'\n        ],\n        [\n            'You alcoholic!',\n            'So a dyslexic walks into a bra...',\n            'I wonder if this is how Scientology started?'\n        ],\n        [\n            'Who lives in a pineapple under the sea?',\n            'Try to gang up on eachother.'\n        ],\n        [\n            'Round 6 is going to get heated!',\n            'Beauty is in the eye of the beer holder.'\n        ],\n        [\n            'Yay lockdown!',\n            'Two men walked into a bar. The third one ducked.'\n        ],\n        [\n            'The youngest person should double their drinks...',\n            'Ever thought about a career in politics?'\n        ],\n        [\n            'Ready to die?',\n            'The past, present, and future walk into a bar. It was tense.'\n        ],\n        [\n            'Green is not a creative colour.',\n            'Not drunk enough? Time to call bullshit on everything!'\n        ],\n        [\n            'Vote liver failure!',\n            'Ran out? Just drink hand sanitiser...'\n        ],\n        [\n            'The drinks get serious now.',\n            'Alcohol is a perfect solvent: It dissolves marriages, families and careers.'\n        ],\n        [\n            'Someone is going to be sick...',\n            'Nanananana Batman.'\n        ],\n        [\n            'Nearly there!',\n            'Vodka isn\\'t always the answer. But it\\'s worth a shot.'\n        ],\n        [\n            'Last one!',\n            'You\\'ve climbed the alcoholic mountain!',\n            'You all look so pretty now!'\n        ]\n    ];\n    const tauntList = taunts[Math.min(roundNumber, taunts.length - 1)];\n    const randomIndex = Math.floor(rng() * tauntList.length);\n    return tauntList[randomIndex];\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Rix1Q0FBdUM7QUFDaEMsTUFBTUcsaUJBQWlCLENBQUNDLGFBQXFCcEI7SUFDbEQsTUFBTUMsTUFBTWpCLGlEQUFVQSxDQUFDLEdBQUdnQixLQUFLLENBQUMsRUFBRW9CLGFBQWE7SUFFL0MsTUFBTUMsU0FBUztRQUNiO1lBQUM7WUFBd0I7WUFBcUM7U0FBMEI7UUFDeEY7WUFBQztZQUE0QjtZQUF1QjtTQUFvRTtRQUN4SDtZQUFDO1lBQThCO1NBQWdFO1FBQy9GO1lBQUM7WUFBc0M7U0FBMkI7UUFDbEU7WUFBQztZQUFrQjtZQUFxQztTQUErQztRQUN2RztZQUFDO1lBQTJDO1NBQStCO1FBQzNFO1lBQUM7WUFBbUM7U0FBMkM7UUFDL0U7WUFBQztZQUFpQjtTQUFtRDtRQUNyRTtZQUFDO1lBQXFEO1NBQTJDO1FBQ2pHO1lBQUM7WUFBaUI7U0FBK0Q7UUFDakY7WUFBQztZQUFtQztTQUF5RDtRQUM3RjtZQUFDO1lBQXVCO1NBQXdDO1FBQ2hFO1lBQUM7WUFBK0I7U0FBOEU7UUFDOUc7WUFBQztZQUFrQztTQUFxQjtRQUN4RDtZQUFDO1lBQWlCO1NBQTBEO1FBQzVFO1lBQUM7WUFBYTtZQUEyQztTQUE4QjtLQUN4RjtJQUVELE1BQU1DLFlBQVlELE1BQU0sQ0FBQzVCLEtBQUs4QixHQUFHLENBQUNILGFBQWFDLE9BQU96QixNQUFNLEdBQUcsR0FBRztJQUNsRSxNQUFNSixjQUFjQyxLQUFLQyxLQUFLLENBQUNPLFFBQVFxQixVQUFVMUIsTUFBTTtJQUV2RCxPQUFPMEIsU0FBUyxDQUFDOUIsWUFBWTtBQUMvQixFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvYWxleC9EZXZlbG9wZXIvcHlyYW1pZC5uaW5qYS9zcmMvbGliL2RlY2tVdGlscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL2RlY2tVdGlscy50c1xuaW1wb3J0IHNlZWRyYW5kb20gZnJvbSAnc2VlZHJhbmRvbSc7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG4vLyBDcmVhdGUgYSBmdWxsIGRlY2sgb2YgNTIgY2FyZHNcbmV4cG9ydCBjb25zdCBjcmVhdGVEZWNrID0gKCk6IG51bWJlcltdID0+IHtcbiAgY29uc3QgZGVjazogbnVtYmVyW10gPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MjsgaSsrKSB7XG4gICAgZGVjay5wdXNoKGkpO1xuICB9XG4gIHJldHVybiBkZWNrO1xufTtcblxuLy8gR2VuZXJhdGUgYSByYW5kb20gNC1sZXR0ZXIgZ2FtZSBjb2RlXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVHYW1lQ29kZSA9ICgpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBjaGFyYWN0ZXJzID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JztcbiAgbGV0IHJlc3VsdCA9ICcnO1xuICBcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICBjb25zdCByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnMubGVuZ3RoKTtcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQocmFuZG9tSW5kZXgpO1xuICB9XG4gIFxuICByZXR1cm4gcmVzdWx0LnRvVXBwZXJDYXNlKCk7XG59O1xuXG4vLyBTaHVmZmxlIGEgZGVjayB1c2luZyBhIHNlZWRcbmV4cG9ydCBjb25zdCBzaHVmZmxlRGVjayA9IChzZWVkOiBzdHJpbmcpOiBudW1iZXJbXSA9PiB7XG4gIGNvbnN0IHJuZyA9IHNlZWRyYW5kb20oc2VlZCk7XG4gIGNvbnN0IGRlY2sgPSBjcmVhdGVEZWNrKCk7XG4gIFxuICAvLyBGaXNoZXItWWF0ZXMgc2h1ZmZsZSBhbGdvcml0aG1cbiAgZm9yIChsZXQgaSA9IGRlY2subGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKHJuZygpICogKGkgKyAxKSk7XG4gICAgW2RlY2tbaV0sIGRlY2tbal1dID0gW2RlY2tbal0sIGRlY2tbaV1dO1xuICB9XG4gIFxuICByZXR1cm4gZGVjaztcbn07XG5cbi8vIENvbnZlcnQgY2FyZCBpbmRleCB0byBzdWl0IGFuZCByYW5rXG5leHBvcnQgY29uc3QgZ2V0Q2FyZERldGFpbHMgPSAoY2FyZEluZGV4OiBudW1iZXIpOiBDYXJkID0+IHtcbiAgY29uc3Qgc3VpdCA9IE1hdGguZmxvb3IoY2FyZEluZGV4IC8gMTMpO1xuICBjb25zdCByYW5rID0gY2FyZEluZGV4ICUgMTM7XG4gIFxuICByZXR1cm4ge1xuICAgIHN1aXQsXG4gICAgcmFuayxcbiAgICBpOiBjYXJkSW5kZXhcbiAgfTtcbn07XG5cbi8vIENvbnZlcnQgY2FyZCBpbmRleCB0byByZWFkYWJsZSBzdHJpbmdcbmV4cG9ydCBjb25zdCBjYXJkSW5kZXhUb1N0cmluZyA9IChjYXJkSW5kZXg6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGNhcmQgPSBnZXRDYXJkRGV0YWlscyhjYXJkSW5kZXgpO1xuICBcbiAgY29uc3QgcmFua3MgPSBbJ0EnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJzEwJywgJ0onLCAnUScsICdLJ107XG4gIGNvbnN0IHN1aXRzID0gWyfimaAnLCAn4pmlJywgJ+KZoycsICfimaYnXTtcbiAgXG4gIHJldHVybiBgJHtyYW5rc1tjYXJkLnJhbmtdfSR7c3VpdHNbY2FyZC5zdWl0XX1gO1xufTtcblxuLy8gQ29udmVydCBjYXJkIGluZGV4IHRvIEVuZ2xpc2ggdGV4dFxuZXhwb3J0IGNvbnN0IGNhcmRJbmRleFRvVGV4dCA9IChjYXJkSW5kZXg6IG51bWJlcik6IHN0cmluZyA9PiB7XG4gIGNvbnN0IGNhcmQgPSBnZXRDYXJkRGV0YWlscyhjYXJkSW5kZXgpO1xuICBcbiAgY29uc3QgcmFua3MgPSBbXG4gICAgJ2FuIEFjZScsICdhIFR3bycsICdhIFRocmVlJywgJ2EgRm91cicsICdhIEZpdmUnLCBcbiAgICAnYSBTaXgnLCAnYSBTZXZlbicsICdhbiBFaWdodCcsICdhIE5pbmUnLCAnYSBUZW4nLCBcbiAgICAnYSBKYWNrJywgJ2EgUXVlZW4nLCAnYSBLaW5nJ1xuICBdO1xuICBcbiAgcmV0dXJuIHJhbmtzW2NhcmQucmFua107XG59O1xuXG4vLyBHZXQgcHlyYW1pZCBjYXJkIGNvb3JkaW5hdGVzIGZvciBkaXNwbGF5XG5leHBvcnQgY29uc3QgZ2V0UHlyYW1pZENvb3JkaW5hdGVzID0gKGluZGV4OiBudW1iZXIpID0+IHtcbiAgY29uc3QgY29vcmRzID0gW1xuICAgIHsgeDogMTc5LCB5OiA0NDIgfSwgIC8vIFJvdyAxLCBDYXJkIDFcbiAgICB7IHg6IDgxLCB5OiA0NDIgfSwgICAvLyBSb3cgMSwgQ2FyZCAyXG4gICAgeyB4OiAtMTcsIHk6IDQ0MiB9LCAgLy8gUm93IDEsIENhcmQgM1xuICAgIHsgeDogLTExNSwgeTogNDQyIH0sIC8vIFJvdyAxLCBDYXJkIDRcbiAgICB7IHg6IC0yMTcsIHk6IDQ0MiB9LCAvLyBSb3cgMSwgQ2FyZCA1XG4gICAgeyB4OiAxMjMsIHk6IDMxMCB9LCAgLy8gUm93IDIsIENhcmQgMVxuICAgIHsgeDogMjksIHk6IDMxMCB9LCAgIC8vIFJvdyAyLCBDYXJkIDJcbiAgICB7IHg6IC02OSwgeTogMzEwIH0sICAvLyBSb3cgMiwgQ2FyZCAzXG4gICAgeyB4OiAtMTY2LCB5OiAzMTAgfSwgLy8gUm93IDIsIENhcmQgNFxuICAgIHsgeDogNzMsIHk6IDE5MCB9LCAgIC8vIFJvdyAzLCBDYXJkIDFcbiAgICB7IHg6IC0yMywgeTogMTkwIH0sICAvLyBSb3cgMywgQ2FyZCAyXG4gICAgeyB4OiAtMTE2LCB5OiAxOTAgfSwgLy8gUm93IDMsIENhcmQgM1xuICAgIHsgeDogMzcsIHk6IDY1IH0sICAgIC8vIFJvdyA0LCBDYXJkIDFcbiAgICB7IHg6IC01NywgeTogNjUgfSwgICAvLyBSb3cgNCwgQ2FyZCAyXG4gICAgeyB4OiAtMTAsIHk6IC01OSB9LCAgLy8gUm93IDUsIENhcmQgMVxuICBdO1xuICBcbiAgcmV0dXJuIGluZGV4ID49IDAgJiYgaW5kZXggPCBjb29yZHMubGVuZ3RoID8gY29vcmRzW2luZGV4XSA6IHsgeDogLTEwMDAsIHk6IC0xMDAwIH07XG59O1xuXG4vLyBHZXQgd2hpY2ggcm93IGEgY2FyZCBpcyBpblxuZXhwb3J0IGNvbnN0IGdldFB5cmFtaWRSb3cgPSAoaW5kZXg6IG51bWJlcik6IG51bWJlciA9PiB7XG4gIGlmIChpbmRleCA8PSA0KSByZXR1cm4gMTtcbiAgaWYgKGluZGV4IDw9IDgpIHJldHVybiAyO1xuICBpZiAoaW5kZXggPD0gMTEpIHJldHVybiAzO1xuICBpZiAoaW5kZXggPD0gMTMpIHJldHVybiA0O1xuICBpZiAoaW5kZXggPT09IDE0KSByZXR1cm4gNTtcbiAgcmV0dXJuIDE7XG59O1xuXG4vLyBHZXQgcGxheWVyIGNhcmQgY29vcmRpbmF0ZXMgZm9yIGRpc3BsYXlcbmV4cG9ydCBjb25zdCBnZXRQbGF5ZXJDYXJkQ29vcmRpbmF0ZXMgPSAoaW5kZXg6IG51bWJlcikgPT4ge1xuICBjb25zdCBjb29yZHMgPSBbXG4gICAgeyB4OiA0OSwgeTogMCB9LCAgICAvLyBDYXJkIDFcbiAgICB7IHg6IC04OSwgeTogMCB9LCAgIC8vIENhcmQgMlxuICAgIHsgeDogNDksIHk6IDE3NSB9LCAgLy8gQ2FyZCAzXG4gICAgeyB4OiAtODksIHk6IDE3NSB9LCAvLyBDYXJkIDRcbiAgXTtcbiAgXG4gIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgY29vcmRzLmxlbmd0aCA/IGNvb3Jkc1tpbmRleF0gOiB7IHg6IDAsIHk6IDAgfTtcbn07XG5cbi8vIEdlbmVyYXRlIGEgdGF1bnQgbWVzc2FnZSBmb3IgYSByb3VuZFxuZXhwb3J0IGNvbnN0IGdldFJhbmRvbVRhdW50ID0gKHJvdW5kTnVtYmVyOiBudW1iZXIsIHNlZWQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHJuZyA9IHNlZWRyYW5kb20oYCR7c2VlZH0tJHtyb3VuZE51bWJlcn1gKTtcbiAgXG4gIGNvbnN0IHRhdW50cyA9IFtcbiAgICBbJ1RpbWUgdG8gZ2V0IHdyZWNrZWQhJywgJ1RpbWUgdG8gdHVybiBvdXIgbGl2ZXJzIHRvIGNvcmFsIScsICdEcmluayBSZXNwb25zaWJseSwgeWVhaCddLFxuICAgIFsnSSBoZWFyIHJvdW5kIDIgaXMgc3BpY3khJywgJ0Vuam95IHRoZSBoYW5nb3ZlciEnLCAnRHJpbmtpbmcgbWF5IGNhdXNlIG1lbW9yeSBsb3NzIGFuZC4uLiBtYXkgYWxzbyBjYXVzZSBtZW1vcnkgbG9zcy4nXSxcbiAgICBbJ1lvdXIgbGl2ZXIgd2lsbCB0aGFuayB5b3UhJywgJ1E6IFdoYXRzIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gYSBkb2cgYW5kIGEgZm94PyBBOiAyIGRyaW5rcy4nXSxcbiAgICBbJ1Nwb25zb3JlZCBieSBjcmlwcGxpbmcgZGVwcmVzc2lvbi4nLCAnQmUga2luZCB0byB5b3VyIGZyaWVuZHMhJ10sXG4gICAgWydZb3UgYWxjb2hvbGljIScsICdTbyBhIGR5c2xleGljIHdhbGtzIGludG8gYSBicmEuLi4nLCAnSSB3b25kZXIgaWYgdGhpcyBpcyBob3cgU2NpZW50b2xvZ3kgc3RhcnRlZD8nXSxcbiAgICBbJ1dobyBsaXZlcyBpbiBhIHBpbmVhcHBsZSB1bmRlciB0aGUgc2VhPycsICdUcnkgdG8gZ2FuZyB1cCBvbiBlYWNob3RoZXIuJ10sXG4gICAgWydSb3VuZCA2IGlzIGdvaW5nIHRvIGdldCBoZWF0ZWQhJywgJ0JlYXV0eSBpcyBpbiB0aGUgZXllIG9mIHRoZSBiZWVyIGhvbGRlci4nXSxcbiAgICBbJ1lheSBsb2NrZG93biEnLCAnVHdvIG1lbiB3YWxrZWQgaW50byBhIGJhci4gVGhlIHRoaXJkIG9uZSBkdWNrZWQuJ10sXG4gICAgWydUaGUgeW91bmdlc3QgcGVyc29uIHNob3VsZCBkb3VibGUgdGhlaXIgZHJpbmtzLi4uJywgJ0V2ZXIgdGhvdWdodCBhYm91dCBhIGNhcmVlciBpbiBwb2xpdGljcz8nXSxcbiAgICBbJ1JlYWR5IHRvIGRpZT8nLCAnVGhlIHBhc3QsIHByZXNlbnQsIGFuZCBmdXR1cmUgd2FsayBpbnRvIGEgYmFyLiBJdCB3YXMgdGVuc2UuJ10sXG4gICAgWydHcmVlbiBpcyBub3QgYSBjcmVhdGl2ZSBjb2xvdXIuJywgJ05vdCBkcnVuayBlbm91Z2g/IFRpbWUgdG8gY2FsbCBidWxsc2hpdCBvbiBldmVyeXRoaW5nISddLFxuICAgIFsnVm90ZSBsaXZlciBmYWlsdXJlIScsICdSYW4gb3V0PyBKdXN0IGRyaW5rIGhhbmQgc2FuaXRpc2VyLi4uJ10sXG4gICAgWydUaGUgZHJpbmtzIGdldCBzZXJpb3VzIG5vdy4nLCAnQWxjb2hvbCBpcyBhIHBlcmZlY3Qgc29sdmVudDogSXQgZGlzc29sdmVzIG1hcnJpYWdlcywgZmFtaWxpZXMgYW5kIGNhcmVlcnMuJ10sXG4gICAgWydTb21lb25lIGlzIGdvaW5nIHRvIGJlIHNpY2suLi4nLCAnTmFuYW5hbmFuYSBCYXRtYW4uJ10sXG4gICAgWydOZWFybHkgdGhlcmUhJywgJ1ZvZGthIGlzblxcJ3QgYWx3YXlzIHRoZSBhbnN3ZXIuIEJ1dCBpdFxcJ3Mgd29ydGggYSBzaG90LiddLFxuICAgIFsnTGFzdCBvbmUhJywgJ1lvdVxcJ3ZlIGNsaW1iZWQgdGhlIGFsY29ob2xpYyBtb3VudGFpbiEnLCAnWW91IGFsbCBsb29rIHNvIHByZXR0eSBub3chJ10sXG4gIF07XG4gIFxuICBjb25zdCB0YXVudExpc3QgPSB0YXVudHNbTWF0aC5taW4ocm91bmROdW1iZXIsIHRhdW50cy5sZW5ndGggLSAxKV07XG4gIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihybmcoKSAqIHRhdW50TGlzdC5sZW5ndGgpO1xuICBcbiAgcmV0dXJuIHRhdW50TGlzdFtyYW5kb21JbmRleF07XG59OyJdLCJuYW1lcyI6WyJzZWVkcmFuZG9tIiwiY3JlYXRlRGVjayIsImRlY2siLCJpIiwicHVzaCIsImdlbmVyYXRlR2FtZUNvZGUiLCJjaGFyYWN0ZXJzIiwicmVzdWx0IiwicmFuZG9tSW5kZXgiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNodWZmbGVEZWNrIiwic2VlZCIsInJuZyIsImoiLCJnZXRDYXJkRGV0YWlscyIsImNhcmRJbmRleCIsInN1aXQiLCJyYW5rIiwiY2FyZEluZGV4VG9TdHJpbmciLCJjYXJkIiwicmFua3MiLCJzdWl0cyIsImNhcmRJbmRleFRvVGV4dCIsImdldFB5cmFtaWRDb29yZGluYXRlcyIsImluZGV4IiwiY29vcmRzIiwieCIsInkiLCJnZXRQeXJhbWlkUm93IiwiZ2V0UGxheWVyQ2FyZENvb3JkaW5hdGVzIiwiZ2V0UmFuZG9tVGF1bnQiLCJyb3VuZE51bWJlciIsInRhdW50cyIsInRhdW50TGlzdCIsIm1pbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/deckUtils.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/firebase.ts":
/*!*****************************!*\
  !*** ./src/lib/firebase.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   performance: () => (/* binding */ performance)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/analytics */ \"firebase/analytics\");\n/* harmony import */ var firebase_performance__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/performance */ \"firebase/performance\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_analytics__WEBPACK_IMPORTED_MODULE_3__, firebase_performance__WEBPACK_IMPORTED_MODULE_4__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, firebase_firestore__WEBPACK_IMPORTED_MODULE_2__, firebase_analytics__WEBPACK_IMPORTED_MODULE_3__, firebase_performance__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/lib/firebase.ts\n\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDyk-FE8w0yd82WduMP6KVmvRPt0-4miS8\",\n    authDomain: \"pyramid-ninja.firebaseapp.com\",\n    databaseURL: \"https://pyramid-ninja.firebaseio.com\",\n    projectId: \"pyramid-ninja\",\n    storageBucket: \"pyramid-ninja.appspot.com\",\n    messagingSenderId: \"668178102663\",\n    appId: \"1:668178102663:web:bc247d167d2cab96adfb22\",\n    measurementId: \"G-VCPEBG1XK7\"\n};\n// Initialize Firebase if it hasn't been initialized already\nconst app = !(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\n// Initialize Analytics and Performance in browser environment only\nlet analytics = null;\nlet performance = null;\nif (false) {}\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9saWIvZmlyZWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQjtBQUNnQztBQUNkO0FBQ1U7QUFDd0I7QUFDQztBQUUzRSxNQUFNTyxpQkFBaUI7SUFDckJDLFFBQVE7SUFDUkMsWUFBWTtJQUNaQyxhQUFhO0lBQ2JDLFdBQVc7SUFDWEMsZUFBZTtJQUNmQyxtQkFBbUI7SUFDbkJDLE9BQU87SUFDUEMsZUFBZTtBQUNqQjtBQUVBLDREQUE0RDtBQUM1RCxNQUFNQyxNQUFNLENBQUNmLHFEQUFPQSxHQUFHZ0IsTUFBTSxHQUFHakIsMkRBQWFBLENBQUNPLGtCQUFrQk4scURBQU9BLEVBQUUsQ0FBQyxFQUFFO0FBQzVFLE1BQU1pQixPQUFPaEIsc0RBQU9BLENBQUNjO0FBQ3JCLE1BQU1HLEtBQUtoQixnRUFBWUEsQ0FBQ2E7QUFFeEIsbUVBQW1FO0FBQ25FLElBQUlJLFlBQThCO0FBQ2xDLElBQUlDLGNBQTBDO0FBRTlDLElBQUksS0FBNkIsRUFBRSxFQVVsQztBQUVnRCIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXgvRGV2ZWxvcGVyL3B5cmFtaWQubmluamEvc3JjL2xpYi9maXJlYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvbGliL2ZpcmViYXNlLnRzXG5pbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzIH0gZnJvbSAnZmlyZWJhc2UvYXBwJztcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJztcbmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBnZXRBbmFseXRpY3MsIGlzU3VwcG9ydGVkLCBBbmFseXRpY3MgfSBmcm9tICdmaXJlYmFzZS9hbmFseXRpY3MnO1xuaW1wb3J0IHsgZ2V0UGVyZm9ybWFuY2UsIEZpcmViYXNlUGVyZm9ybWFuY2UgfSBmcm9tICdmaXJlYmFzZS9wZXJmb3JtYW5jZSc7XG5cbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xuICBhcGlLZXk6IFwiQUl6YVN5RHlrLUZFOHcweWQ4MldkdU1QNktWbXZSUHQwLTRtaVM4XCIsXG4gIGF1dGhEb21haW46IFwicHlyYW1pZC1uaW5qYS5maXJlYmFzZWFwcC5jb21cIixcbiAgZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9weXJhbWlkLW5pbmphLmZpcmViYXNlaW8uY29tXCIsXG4gIHByb2plY3RJZDogXCJweXJhbWlkLW5pbmphXCIsXG4gIHN0b3JhZ2VCdWNrZXQ6IFwicHlyYW1pZC1uaW5qYS5hcHBzcG90LmNvbVwiLFxuICBtZXNzYWdpbmdTZW5kZXJJZDogXCI2NjgxNzgxMDI2NjNcIixcbiAgYXBwSWQ6IFwiMTo2NjgxNzgxMDI2NjM6d2ViOmJjMjQ3ZDE2N2QyY2FiOTZhZGZiMjJcIixcbiAgbWVhc3VyZW1lbnRJZDogXCJHLVZDUEVCRzFYSzdcIlxufTtcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBpZiBpdCBoYXNuJ3QgYmVlbiBpbml0aWFsaXplZCBhbHJlYWR5XG5jb25zdCBhcHAgPSAhZ2V0QXBwcygpLmxlbmd0aCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpIDogZ2V0QXBwcygpWzBdO1xuY29uc3QgYXV0aCA9IGdldEF1dGgoYXBwKTtcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XG5cbi8vIEluaXRpYWxpemUgQW5hbHl0aWNzIGFuZCBQZXJmb3JtYW5jZSBpbiBicm93c2VyIGVudmlyb25tZW50IG9ubHlcbmxldCBhbmFseXRpY3M6IEFuYWx5dGljcyB8IG51bGwgPSBudWxsO1xubGV0IHBlcmZvcm1hbmNlOiBGaXJlYmFzZVBlcmZvcm1hbmNlIHwgbnVsbCA9IG51bGw7XG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyBJbml0aWFsaXplIEZpcmViYXNlIEFuYWx5dGljc1xuICBpc1N1cHBvcnRlZCgpLnRoZW4oeWVzID0+IHtcbiAgICBpZiAoeWVzKSB7XG4gICAgICBhbmFseXRpY3MgPSBnZXRBbmFseXRpY3MoYXBwKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBQZXJmb3JtYW5jZVxuICBwZXJmb3JtYW5jZSA9IGdldFBlcmZvcm1hbmNlKGFwcCk7XG59XG5cbmV4cG9ydCB7IGFwcCwgYXV0aCwgZGIsIGFuYWx5dGljcywgcGVyZm9ybWFuY2UgfTsiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJnZXRBdXRoIiwiZ2V0RmlyZXN0b3JlIiwiZ2V0QW5hbHl0aWNzIiwiaXNTdXBwb3J0ZWQiLCJnZXRQZXJmb3JtYW5jZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsImRhdGFiYXNlVVJMIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJtZWFzdXJlbWVudElkIiwiYXBwIiwibGVuZ3RoIiwiYXV0aCIsImRiIiwiYW5hbHl0aWNzIiwicGVyZm9ybWFuY2UiLCJ0aGVuIiwieWVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/firebase.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts/AuthContext */ \"(pages-dir-node)/./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _contexts_GameContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts/GameContext */ \"(pages-dir-node)/./src/contexts/GameContext.tsx\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/globals.css */ \"(pages-dir-node)/./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _contexts_GameContext__WEBPACK_IMPORTED_MODULE_4__]);\n([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _contexts_GameContext__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// src/pages/_app.tsx\n\n\n\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    const [randomBackground, setRandomBackground] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    // Set random background on initial load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"MyApp.useEffect\": ()=>{\n            setRandomBackground(Math.floor(Math.random() * 10) + 1);\n        }\n    }[\"MyApp.useEffect\"], []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Pyramid.Ninja - Online version of the drinking card game\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 21,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"The digital, online version of the drinking game 'pyramid'. Requires 2+ players each with an internet connected device.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 22,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"viewport\",\n                        content: \"width=device-width, initial-scale=1.0, maximum-scale=6.0, user-scalable=0\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 26,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"theme-color\",\n                        content: \"#e91e63\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 30,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:type\",\n                        content: \"website\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 33,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:url\",\n                        content: \"https://pyramid.ninja/\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 34,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:title\",\n                        content: \"Pyramid.Ninja - Online version of the drinking card game.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 35,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:description\",\n                        content: \"The digital, online version of the drinking game 'pyramid'. Requires 2+ players each with an internet connected device.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 39,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:image\",\n                        content: \"https://pyramid.ninja/imgages/pyramid.ninja.background.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 43,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"twitter:card\",\n                        content: \"summary_large_image\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 49,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"twitter:url\",\n                        content: \"https://pyramid.ninja/\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 50,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"twitter:title\",\n                        content: \"Pyramid.Ninja - Online version of the drinking card game.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 51,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"twitter:description\",\n                        content: \"The digital, online version of the drinking game 'pyramid'. Requires 2+ players each with an internet connected device.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"twitter:image\",\n                        content: \"https://pyramid.ninja/imgages/pyramid.ninja.background.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 59,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        type: \"image/png\",\n                        href: \"/images/icon.png\"\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 65,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                lineNumber: 20,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.AuthProvider, {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_GameContext__WEBPACK_IMPORTED_MODULE_4__.GameProvider, {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"min-h-screen bg-cover bg-center flex flex-col\",\n                        style: {\n                            backgroundImage: `url('/images/${randomBackground}.jpg')`\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                            ...pageProps\n                        }, void 0, false, {\n                            fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                            lineNumber: 76,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                        lineNumber: 70,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                    lineNumber: 69,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/alex/Developer/pyramid.ninja/src/pages/_app.tsx\",\n                lineNumber: 68,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFCQUFxQjs7QUFDOEI7QUFFdEI7QUFDMEI7QUFDQTtBQUN4QjtBQUcvQixTQUFTTSxNQUFNLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFZO0lBQy9DLE1BQU0sQ0FBQ0Msa0JBQWtCQyxvQkFBb0IsR0FBR1QsK0NBQVFBLENBQUM7SUFFekQsd0NBQXdDO0lBQ3hDQyxnREFBU0E7MkJBQUM7WUFDUlEsb0JBQW9CQyxLQUFLQyxLQUFLLENBQUNELEtBQUtFLE1BQU0sS0FBSyxNQUFNO1FBQ3ZEOzBCQUFHLEVBQUU7SUFFTCxxQkFDRTs7MEJBQ0UsOERBQUNWLGtEQUFJQTs7a0NBQ0gsOERBQUNXO2tDQUFNOzs7Ozs7a0NBQ1AsOERBQUNDO3dCQUNDQyxNQUFLO3dCQUNMQyxTQUFROzs7Ozs7a0NBRVYsOERBQUNGO3dCQUNDQyxNQUFLO3dCQUNMQyxTQUFROzs7Ozs7a0NBRVYsOERBQUNGO3dCQUFLQyxNQUFLO3dCQUFjQyxTQUFROzs7Ozs7a0NBR2pDLDhEQUFDRjt3QkFBS0csVUFBUzt3QkFBVUQsU0FBUTs7Ozs7O2tDQUNqQyw4REFBQ0Y7d0JBQUtHLFVBQVM7d0JBQVNELFNBQVE7Ozs7OztrQ0FDaEMsOERBQUNGO3dCQUNDRyxVQUFTO3dCQUNURCxTQUFROzs7Ozs7a0NBRVYsOERBQUNGO3dCQUNDRyxVQUFTO3dCQUNURCxTQUFROzs7Ozs7a0NBRVYsOERBQUNGO3dCQUNDRyxVQUFTO3dCQUNURCxTQUFROzs7Ozs7a0NBSVYsOERBQUNGO3dCQUFLRyxVQUFTO3dCQUFlRCxTQUFROzs7Ozs7a0NBQ3RDLDhEQUFDRjt3QkFBS0csVUFBUzt3QkFBY0QsU0FBUTs7Ozs7O2tDQUNyQyw4REFBQ0Y7d0JBQ0NHLFVBQVM7d0JBQ1RELFNBQVE7Ozs7OztrQ0FFViw4REFBQ0Y7d0JBQ0NHLFVBQVM7d0JBQ1RELFNBQVE7Ozs7OztrQ0FFViw4REFBQ0Y7d0JBQ0NHLFVBQVM7d0JBQ1RELFNBQVE7Ozs7OztrQ0FJViw4REFBQ0U7d0JBQUtDLEtBQUk7d0JBQU9DLE1BQUs7d0JBQVlDLE1BQUs7Ozs7Ozs7Ozs7OzswQkFHekMsOERBQUNsQiwrREFBWUE7MEJBQ1gsNEVBQUNDLCtEQUFZQTs4QkFDWCw0RUFBQ2tCO3dCQUNDQyxXQUFVO3dCQUNWQyxPQUFPOzRCQUNMQyxpQkFBaUIsQ0FBQyxhQUFhLEVBQUVqQixpQkFBaUIsTUFBTSxDQUFDO3dCQUMzRDtrQ0FFQSw0RUFBQ0Y7NEJBQVcsR0FBR0MsU0FBUzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNcEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsiL1VzZXJzL2FsZXgvRGV2ZWxvcGVyL3B5cmFtaWQubmluamEvc3JjL3BhZ2VzL19hcHAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNyYy9wYWdlcy9fYXBwLnRzeFxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEFwcFByb3BzIH0gZnJvbSBcIm5leHQvYXBwXCI7XG5pbXBvcnQgSGVhZCBmcm9tIFwibmV4dC9oZWFkXCI7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tIFwiLi4vY29udGV4dHMvQXV0aENvbnRleHRcIjtcbmltcG9ydCB7IEdhbWVQcm92aWRlciB9IGZyb20gXCIuLi9jb250ZXh0cy9HYW1lQ29udGV4dFwiO1xuaW1wb3J0IFwiLi4vc3R5bGVzL2dsb2JhbHMuY3NzXCI7XG5cblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICBjb25zdCBbcmFuZG9tQmFja2dyb3VuZCwgc2V0UmFuZG9tQmFja2dyb3VuZF0gPSB1c2VTdGF0ZSgxKTtcblxuICAvLyBTZXQgcmFuZG9tIGJhY2tncm91bmQgb24gaW5pdGlhbCBsb2FkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0UmFuZG9tQmFja2dyb3VuZChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCkgKyAxKTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+UHlyYW1pZC5OaW5qYSAtIE9ubGluZSB2ZXJzaW9uIG9mIHRoZSBkcmlua2luZyBjYXJkIGdhbWU8L3RpdGxlPlxuICAgICAgICA8bWV0YVxuICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgY29udGVudD1cIlRoZSBkaWdpdGFsLCBvbmxpbmUgdmVyc2lvbiBvZiB0aGUgZHJpbmtpbmcgZ2FtZSAncHlyYW1pZCcuIFJlcXVpcmVzIDIrIHBsYXllcnMgZWFjaCB3aXRoIGFuIGludGVybmV0IGNvbm5lY3RlZCBkZXZpY2UuXCJcbiAgICAgICAgLz5cbiAgICAgICAgPG1ldGFcbiAgICAgICAgICBuYW1lPVwidmlld3BvcnRcIlxuICAgICAgICAgIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTYuMCwgdXNlci1zY2FsYWJsZT0wXCJcbiAgICAgICAgLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cInRoZW1lLWNvbG9yXCIgY29udGVudD1cIiNlOTFlNjNcIiAvPlxuXG4gICAgICAgIHsvKiBPcGVuIEdyYXBoIC8gRmFjZWJvb2sgKi99XG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dHlwZVwiIGNvbnRlbnQ9XCJ3ZWJzaXRlXCIgLz5cbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzp1cmxcIiBjb250ZW50PVwiaHR0cHM6Ly9weXJhbWlkLm5pbmphL1wiIC8+XG4gICAgICAgIDxtZXRhXG4gICAgICAgICAgcHJvcGVydHk9XCJvZzp0aXRsZVwiXG4gICAgICAgICAgY29udGVudD1cIlB5cmFtaWQuTmluamEgLSBPbmxpbmUgdmVyc2lvbiBvZiB0aGUgZHJpbmtpbmcgY2FyZCBnYW1lLlwiXG4gICAgICAgIC8+XG4gICAgICAgIDxtZXRhXG4gICAgICAgICAgcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiXG4gICAgICAgICAgY29udGVudD1cIlRoZSBkaWdpdGFsLCBvbmxpbmUgdmVyc2lvbiBvZiB0aGUgZHJpbmtpbmcgZ2FtZSAncHlyYW1pZCcuIFJlcXVpcmVzIDIrIHBsYXllcnMgZWFjaCB3aXRoIGFuIGludGVybmV0IGNvbm5lY3RlZCBkZXZpY2UuXCJcbiAgICAgICAgLz5cbiAgICAgICAgPG1ldGFcbiAgICAgICAgICBwcm9wZXJ0eT1cIm9nOmltYWdlXCJcbiAgICAgICAgICBjb250ZW50PVwiaHR0cHM6Ly9weXJhbWlkLm5pbmphL2ltZ2FnZXMvcHlyYW1pZC5uaW5qYS5iYWNrZ3JvdW5kLnBuZ1wiXG4gICAgICAgIC8+XG5cbiAgICAgICAgey8qIFR3aXR0ZXIgKi99XG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwidHdpdHRlcjpjYXJkXCIgY29udGVudD1cInN1bW1hcnlfbGFyZ2VfaW1hZ2VcIiAvPlxuICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cInR3aXR0ZXI6dXJsXCIgY29udGVudD1cImh0dHBzOi8vcHlyYW1pZC5uaW5qYS9cIiAvPlxuICAgICAgICA8bWV0YVxuICAgICAgICAgIHByb3BlcnR5PVwidHdpdHRlcjp0aXRsZVwiXG4gICAgICAgICAgY29udGVudD1cIlB5cmFtaWQuTmluamEgLSBPbmxpbmUgdmVyc2lvbiBvZiB0aGUgZHJpbmtpbmcgY2FyZCBnYW1lLlwiXG4gICAgICAgIC8+XG4gICAgICAgIDxtZXRhXG4gICAgICAgICAgcHJvcGVydHk9XCJ0d2l0dGVyOmRlc2NyaXB0aW9uXCJcbiAgICAgICAgICBjb250ZW50PVwiVGhlIGRpZ2l0YWwsIG9ubGluZSB2ZXJzaW9uIG9mIHRoZSBkcmlua2luZyBnYW1lICdweXJhbWlkJy4gUmVxdWlyZXMgMisgcGxheWVycyBlYWNoIHdpdGggYW4gaW50ZXJuZXQgY29ubmVjdGVkIGRldmljZS5cIlxuICAgICAgICAvPlxuICAgICAgICA8bWV0YVxuICAgICAgICAgIHByb3BlcnR5PVwidHdpdHRlcjppbWFnZVwiXG4gICAgICAgICAgY29udGVudD1cImh0dHBzOi8vcHlyYW1pZC5uaW5qYS9pbWdhZ2VzL3B5cmFtaWQubmluamEuYmFja2dyb3VuZC5wbmdcIlxuICAgICAgICAvPlxuXG4gICAgICAgIHsvKiBGYXZpY29uICovfVxuICAgICAgICA8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIGhyZWY9XCIvaW1hZ2VzL2ljb24ucG5nXCIgLz5cbiAgICAgIDwvSGVhZD5cblxuICAgICAgPEF1dGhQcm92aWRlcj5cbiAgICAgICAgPEdhbWVQcm92aWRlcj5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctY292ZXIgYmctY2VudGVyIGZsZXggZmxleC1jb2xcIlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCcvaW1hZ2VzLyR7cmFuZG9tQmFja2dyb3VuZH0uanBnJylgLFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvR2FtZVByb3ZpZGVyPlxuICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgPC8+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwO1xuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJIZWFkIiwiQXV0aFByb3ZpZGVyIiwiR2FtZVByb3ZpZGVyIiwiTXlBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiLCJyYW5kb21CYWNrZ3JvdW5kIiwic2V0UmFuZG9tQmFja2dyb3VuZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInRpdGxlIiwibWV0YSIsIm5hbWUiLCJjb250ZW50IiwicHJvcGVydHkiLCJsaW5rIiwicmVsIiwidHlwZSIsImhyZWYiLCJkaXYiLCJjbGFzc05hbWUiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/pages/_app.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "firebase/analytics":
/*!*************************************!*\
  !*** external "firebase/analytics" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/analytics");;

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/firestore");;

/***/ }),

/***/ "firebase/performance":
/*!***************************************!*\
  !*** external "firebase/performance" ***!
  \***************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/performance");;

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "seedrandom":
/*!*****************************!*\
  !*** external "seedrandom" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("seedrandom");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(pages-dir-node)/./src/pages/_app.tsx"));
module.exports = __webpack_exports__;

})();